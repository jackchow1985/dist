"use strict";angular.module("inspinia",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngResource","ui.router","ui.bootstrap","highcharts-ng","ui.select","angular-venn","angularMoment","smart-table","ngBootstrap"]).config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("login",{"abstract":!0,url:"/login",templateUrl:"components/login/login.html"}).state("index",{"abstract":!0,url:"/index",templateUrl:"components/common/content.html"}).state("index.main",{url:"/main",templateUrl:"app/main/main.html"}).state("index.school",{url:"/school",templateUrl:"components/school/school.html",data:{pageTitle:"School Analytics"}}).state("index.user",{url:"/userScore",templateUrl:"components/user/user_score.html",data:{pageTitle:"User Analytics"}}).state("index.profile",{url:"/profile/:userID/:region/:app",templateUrl:"components/user/user_profile.html",data:{pageTitle:"User Profile"}}).state("index.search",{url:"/profileSearch",templateUrl:"components/user/user_profile.html",data:{pageTitle:"User Profile"}}).state("index.incu",{url:"/incubatee",templateUrl:"components/incu/user_list.html",data:{pageTitle:"User List"}}).state("index.seed",{url:"/seed",templateUrl:"components/seed/user_list.html",data:{pageTitle:"Seed"}}).state("index.cmb",{url:"/cmb",templateUrl:"components/user/cmb_score.html",data:{pageTitle:"cmb"}}).state("index.stock",{url:"/stock",templateUrl:"components/stock/predict.html",data:{pageTitle:"stock"}}).state("index.core",{url:"/core",templateUrl:"components/user/core_user.html",data:{pageTitle:"core"}}).state("index.stats",{url:"/stats",templateUrl:"components/advanced/stat.html",data:{pageTitle:"stats"}}).state("index.beta",{url:"/profile/:userID/:region/:app/:beta",templateUrl:"components/user/user_profile.html",data:{pageTitle:"User Profile Beta"}}).state("index.mt4",{url:"/mt4/:accountID",templateUrl:"components/user/mt4_profile.html",data:{pageTitle:"MT4 Profile Beta"}}).state("index.mt4users",{url:"/mt4users",templateUrl:"components/user/mt4_user.html",data:{pageTitle:"MT4 users"}}).state("index.quant",{url:"/quant",templateUrl:"components/school/quant.html",data:{pageTitle:"User Profile Beta"}}),e.otherwise("/index/main")}]).run(["$http","$rootScope",function(t,e){t.get("getSession").success(function(t){var i=t.role;e.roleRegion=t.region,e.roleSchool=t.school,e.userNick=t.nick,e.ftShow=t.ftShow,i&&!t.core?(i=i.toString().split(""),e.dashboardShow="1"==i[0]?!0:!1,!e.firstAvailablePage&&e.dashboardShow&&(e.firstAvailablePage="#/index/main"),e.schoolShow="1"==i[1]?!0:!1,!e.firstAvailablePage&&e.schoolShow&&(e.firstAvailablePage="#/index/school"),e.incuShow="1"==i[2]?!0:!1,!e.firstAvailablePage&&e.incuShow&&(e.firstAvailablePage="#/index/incubatee"),e.seedShow="1"==i[3]?!0:!1,!e.firstAvailablePage&&e.seedShow&&(e.firstAvailablePage="#/index/seed"),e.simShow="1"==i[4]?!0:!1,!e.firstAvailablePage&&e.simShow&&(e.firstAvailablePage="#/index/profileSearch"),e.exportShow="1"==i[5]?!0:!1,"#/index/main"==location.hash&&(location.href=e.firstAvailablePage?e.firstAvailablePage:t.ftShow?"#/index/userScore":"upload.html")):(e.simShow=!0,location.href="#/index/profile/"+t.username+"/"+t.region+"/"+t.app),Highcharts.setOptions({global:{useUTC:!1}})})}]),angular.module("inspinia").controller("UserScoreCtrl",["$scope","$rootScope","$http","$q",function(t,e,i,n){function a(t,e){i.get(t+"&ft="+e.name).success(function(t){for(var i=[],n=0;n<t.length;n++)0!=t[n]._id&&i.push([t[n]._id,t[n].count]);e.chartObj.series=[],e.chartObj.series=[{type:"column",name:"# users between this range",data:i}]})}function o(e){for(var i in t.fts)a(e,t.fts[i])}function s(e){t[e]={options:{colors:["#1ab394"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",zoomType:"x"},tooltip:{formatter:function(){return this.y+" # users feature "+this.x}},legend:{enabled:!1}},title:{text:""},xAxis:{title:{text:e+" Distrubtion"}},yAxis:{labels:{enabled:!0},title:{text:null}},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},plotOptions:{area:{color:"#0038ff",marker:{enabled:null},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},credits:{enabled:!1}}}function r(){var t=n.defer();return i.get("getAllContestByApp?db=TW&app=FX").success(function(e){for(var i in e)e[i].name&&(p[e[i].contest_id]={name:e[i].name,icon_image:e[i].icon_image});t.resolve()}),t.promise}function l(){var t=n.defer();return i.get("getAllContestByApp?db=TW&app=FT").success(function(e){for(var i in e)e[i].name&&(p[e[i].contest_id]={name:e[i].name,icon_image:e[i].icon_image});t.resolve()}),t.promise}function c(){var t=n.defer();return i.get("getAllContestByApp?db=CN&app=FX").success(function(e){for(var i in e)e[i].name&&(p[e[i].contest_id]={name:e[i].name,icon_image:e[i].icon_image});t.resolve()}),t.promise}function d(){var t=n.defer();return i.get("getAllContestByApp?db=CN&app=FC").success(function(e){for(var i in e)e[i].name&&(p[e[i].contest_id]={name:e[i].name,icon_image:e[i].icon_image});t.resolve()}),t.promise}function h(){var t=n.defer();return i.get("getAllContestByApp?db=CN&app=SC").success(function(e){for(var i in e)e[i].name&&(p[e[i].contest_id]={name:e[i].name,icon_image:e[i].icon_image});t.resolve()}),t.promise}function g(){for(var e=0;e<t.userList.length;e++)i.get("getUserInfo?db="+t.contestSelected.region+"&userID="+t.userList[e].user_id).success(function(e){if(e&&e.length>0){var i=e[0];t.usersMap[i.USERID]=i}})}var p={};t.distShow=!1,t.fts=[];var u=["ft_avg_ngt_op","ft_std_op_qty","ft_df_qty","ft_active_ratio","ft_var","ft_trade_cnt","ft_tmdd","ft_roll_price","ft_bgw","ft_mdd","ft_bgl","ft_up","ft_avg_dr","ft_std_neg_pnlr","ft_avg_max_op","ft_streak","ft_active_ratio_sldwnd","ft_win_ratio","ft_trade_cnt_pday","ft_tdlf","ft_login_cnt","ft_cp_streak","ft_std_op_dr","ft_login_cnt_pday","ft_shp_rt","ft_tdd"];for(var m in u)s(u[m]),t.fts.push({chartObj:t[u[m]],name:u[m]});t.changeFt=function(e){e&&(t.contestSelected=e),t.contestSelected.contestID&&"fsw_sim_default"==t.weightSelected&&(t.weightSelected=t.weightFiles[1]),t.contestSelected.contestID||"fsw_simc_1"!=t.weightSelected&&"fsw_day_trade"!=t.weightSelected&&"fsw_inc_1"!=t.weightSelected||(t.weightSelected=t.weightFiles[0]),"SEEDSC"==t.contestSelected.region&&(t.weightSelected="fsw_day_trade"),("INC"==t.contestSelected.region||"GlobalINC"==t.contestSelected.region)&&(t.weightSelected="fsw_inc_1"),t.userList=[];var n="getFDTScoreList?wt_tg="+t.weightSelected+"&sort="+t.featureSelected+"&col="+t.contestSelected.id+"&ap_tag="+t.contestSelected.source+"&region="+t.contestSelected.region+"&limit="+t.limitList+"&desc="+t.sortTypeSelected+(t.incubatee?"&arena=incubatee":"");t.downLoadUrl=n+"&format=csv",t.contestSelected.source.indexOf("_sim_all")>=0&&t.contestSelected.id.indexOf("prod")>=0&&(t.downLoadUrl="downloadInc?app="+t.contestSelected.source.replace("_sim_all","")+"&region="+(t.contestSelected.id.indexOf("global")>=0?"global":"china")),i.get(n).success(function(e){t.userList=e,g(),t.chartScoreDistConfig.series=[],t.chartProfDistConfig.series=[],t.chartRiskDistConfig.series=[],t.chartActDistConfig.series=[],t.chartConsiDistConfig.series=[],i.get(n+"&dist=fdt").success(function(e){for(var i=[],n=0;n<e.length;n++)0!=e[n]._id&&i.push([e[n]._id,e[n].count]);t.chartScoreDistConfig.series.push({type:"column",name:"# users between this range",data:i})}),i.get(n+"&dist=profitability").success(function(e){for(var i=[],n=0;n<e.length;n++)0!=e[n]._id&&i.push([e[n]._id,e[n].count]);t.chartProfDistConfig.series.push({type:"column",name:"# users between this range",data:i})}),i.get(n+"&dist=consistency").success(function(e){for(var i=[],n=0;n<e.length;n++)0!=e[n]._id&&i.push([e[n]._id,e[n].count]);t.chartConsiDistConfig.series.push({type:"column",name:"# users between this range",data:i})}),i.get(n+"&dist=riskCtrl").success(function(e){for(var i=[],n=0;n<e.length;n++)0!=e[n]._id&&i.push([e[n]._id,e[n].count]);t.chartRiskDistConfig.series.push({type:"column",name:"# users between this range",data:i})}),i.get(n+"&dist=activity").success(function(e){for(var i=[],n=0;n<e.length;n++)0!=e[n]._id&&i.push([e[n]._id,e[n].count]);t.chartActDistConfig.series.push({type:"column",name:"# users between this range",data:i})}),t.distShow&&o(n)})},t.changeProd=function(e){t.changeFt(e)},t.initProd=function(){t.contests=[],l().then(function(){r()}).then(function(){c()}).then(function(){h()}).then(function(){d()}).then(function(){i.get("queryContestByApp?prod="+t.productSelected).success(function(i){for(var n in i){var a={name:i[n].source+" - "+i[n].col,id:i[n].col,source:i[n].source,region:"CN"};i[n].col.indexOf("_test")>=0||(i[n].col.indexOf("_inc")>=0&&(a.region="INC"),i[n].col.indexOf("_seed")>=0&&(a.region="SEED"),i[n].col.indexOf("sc_china_seed")>=0&&(a.region="SEEDSC"),i[n].source&&i[n].source.indexOf("sim_all")>=0&&(a.name="中国"+(i[n].col.indexOf("fx")>=0?"外汇":i[n].col.indexOf("fc")>=0?"期货":"股票")+(i[n].col.indexOf("seed")>=0?"种子":i[n].col.indexOf("inc")>=0?"孵化器":"模拟")+"用户"),i[n].source&&i[n].source.indexOf("simc_")>=0?(a.contestID=i[n].source.split("simc_")[1],p[a.contestID]&&(a.name=p[a.contestID].name,a.icon_image=p[a.contestID].icon_image)):a.icon_image="https://lh3.googleusercontent.com/UYcLH0TfhavUG0BUl_7GtUhOpy8RQlPA1SepFY2v4XLNp3QlXkikOFfIrETmBRPcckQ=w300-rw",("INC"!=a.region||!e.incuShow||"CN"!=e.roleRegion&&"All"!=e.roleRegion)&&("SEED"!=a.region&&"SEEDSC"!=a.region||!e.seedShow&&!e.ftShow||"CN"!=e.roleRegion&&"All"!=e.roleRegion)?"CN"!=a.region||"CN"!=e.roleRegion&&"All"!=e.roleRegion||!e.simShow||t.contests.push(a):t.contests.push(a))}t.contestSelected=t.contests[0],t.weightFiles=["fsw_sim_default","fsw_simc_1","fsw_all_tune","fsw_con_tune","fsw_day_trade","fsw_ft_cnsvtv","fsw_inc_1","fsw_inc_2","fsw_inc_aggrsv","fsw_inc_blnce","fsw_inc_cnsvtv","fsw_inc_shp","fsw_inc_w_op","fsw_inc_w_op_dr"],t.weightSelected=t.weightFiles[0],t.changeFt()}),i.get("queryContestByApp?prod="+t.productSelected+"&region=Global").success(function(i){for(var n in i){var a={name:i[n].source+" - "+i[n].col,id:i[n].col,source:i[n].source,region:"Global"};i[n].col.indexOf("ft_global_seed")>=0&&(a.region="SEEDFT"),i[n].col.indexOf("_inc")>=0&&(a.region="GlobalINC"),i[n].source&&i[n].source.indexOf("sim_all")>=0&&(a.name="全球"+(i[n].col.indexOf("fx")>=0?"外匯":"台灣期货")+(i[n].col.indexOf("seed")>=0?"种子":i[n].col.indexOf("inc")>=0?"孵化器":"模拟")+"用户"),i[n].col.indexOf("_test")>=0||(i[n].source&&i[n].source.indexOf("simc_")>=0?(a.contestID=i[n].source.split("simc_")[1],p[a.contestID]&&(a.name=p[a.contestID].name,a.icon_image=p[a.contestID].icon_image)):a.icon_image="https://avatars0.githubusercontent.com/u/18319956?v=3&s=200",e.ftShow&&i[n].col.indexOf("ft")>=0&&"CN"!=e.roleRegion?t.contests.push(a):e.ftShow||"CN"==e.roleRegion||t.contests.push(a))}})})},t.limitList=10,t.loginCount=0,t.tradeCount=0,t.features=["fdt","riskCtrl","riskPref","consistency","activity","profitability","ft_bgl","ft_mdd","ft_avg_max_op","ft_avg_nt_op","ft_std_neg_pnlr","ft_df_qty","ft_avg_dr","ft_avg_max_op","ft_up","ft_bgw","ft_std_op_qty","ft_std_op_dr","ft_login_cnt","ft_trade_cnt"],t.sortTypes=["Top","Tail","Random"],t.usersMap={},t.featureSelected=t.features[0],t.sortTypeSelected=t.sortTypes[0],t.chartScoreDistConfig={options:{colors:["#1ab394"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",zoomType:"x"},tooltip:{formatter:function(){return this.y+" # users score "+this.x}},legend:{enabled:!1}},title:{text:""},xAxis:{title:{text:"FDT Score Distrubtion"}},yAxis:{labels:{enabled:!0},title:{text:null}},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},plotOptions:{area:{color:"#0038ff",marker:{enabled:null},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},credits:{enabled:!1}},t.chartProfDistConfig={options:{colors:["#1ab394"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",zoomType:"x"},tooltip:{formatter:function(){return this.y+" # users score "+this.x}},legend:{enabled:!1}},title:{text:""},xAxis:{title:{text:"Profitability Score Distrubtion"}},yAxis:{labels:{enabled:!0},title:{text:null}},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},plotOptions:{area:{color:"#0038ff",marker:{enabled:null},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},credits:{enabled:!1}},t.chartRiskDistConfig={options:{colors:["#1ab394"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",zoomType:"x"},tooltip:{formatter:function(){return this.y+" # users score "+this.x}},legend:{enabled:!1}},title:{text:""},xAxis:{title:{text:"Risk Control Score Distrubtion"}},yAxis:{labels:{enabled:!0},title:{text:null}},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},plotOptions:{area:{color:"#0038ff",marker:{enabled:null},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},credits:{enabled:!1}},t.chartConsiDistConfig={options:{colors:["#1ab394"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",zoomType:"x"},tooltip:{formatter:function(){return this.y+" # users score "+this.x}},legend:{enabled:!1}},title:{text:""},xAxis:{title:{text:"Consistency Score Distrubtion"}},yAxis:{labels:{enabled:!0},title:{text:null}},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},plotOptions:{area:{color:"#0038ff",marker:{enabled:null},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},credits:{enabled:!1}},t.chartActDistConfig={options:{colors:["#1ab394"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",zoomType:"x"},tooltip:{formatter:function(){return this.y+" # users score "+this.x}},legend:{enabled:!1}},title:{text:""},xAxis:{title:{text:"Activity Score Distrubtion"}},yAxis:{labels:{enabled:!0},title:{text:null}},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},plotOptions:{area:{color:"#0038ff",marker:{enabled:null},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},credits:{enabled:!1}}}]),angular.module("inspinia").controller("UserProfileCtrl",["$scope","$rootScope","$http","$stateParams",function(t,e,i,n){function a(e){console.info(e),t.selectTradeDates=e,t.filteredList=[];for(var i=0;i<t.closedList.length;i++)moment(t.closedList[i].TRADE_DATE).format("YYYY-MM-DD")==e&&t.filteredList.push(t.closedList[i]);console.info(t.filteredList),t.$apply()}function o(e,n,a){for(var o=[],s=[],r=0,l=0;l<t.closedList.length;l++)50>r?(r++,o.push(t.closedList[l].ObjId)):(s.push(o),o=[t.closedList[l].ObjId],r=0);0==s.length&&o.length>0&&s.push(o);for(var c in s){var d=s[c];i.post("getTradeSide?userID="+a,{db:n,app:e,objIds:d}).success(function(e){if(e)for(var i in e)t.sideMap[e[i].OBJECT_ID]={side:"Buy"==e[i].SIDE?"Long":"Short",ts:moment(e[i].CREATED).toDate().getTime()/6e4}})}}function s(e,a,s,u,m){function f(){var n=t.dateRangeChanged?"trade_date="+moment(t.dateRange.endDate).format("YYYY-MM-DD")+"&":"";i.get("getScoreDisplay").success(function(o){var m=o;i.get("getUserFeatures?"+n+"col="+s.toLowerCase()+"&debug=true&allScores=true&userID="+e+"&region="+a+"&app_id="+s.toLowerCase()+"&contest_id="+u+(t.seedsc?"&wt_tg=fsw_day_trade":"")+("INC"==a?"&wt_tg=fsw_inc_1":"")).success(function(e){if(0==e.length)console.info("no fdt score"),t.chartRadarFDTScoreConfig.series=[],t.chartSeedSCScoreConfig.series=[],t.chartSeedStyleScoreConfig.series=[],t.chartRadarRiskPreferenceConfig.series=[],t.chartRadarProfitConfig.series=[],t.chartRadarConfig.series=[],t.chartRadarFDTScoreConfig.title={text:"FDT Score is computing"},t.chartSeedStyleScoreConfig.title={text:"Trader Styles"};else{var i={};t.contestScoresList=[];for(var n in e)e[n].ap_tg.indexOf("sim_all")>=0?i=e[n]:e[n].ap_tg&&e[n].ap_tg.split("_").length>2&&(e[n].contestId=e[n].ap_tg.split("_")[2],t.contestScoresList.push(e[n]));u&&t.contestScoresList&&t.contestScoresList.length>0&&(i=t.contestScoresList[0]),console.info(t.contests);var a=[],o=[],s=m.risk_control.features;for(var n in s){var f=i[s[n].feature];a.push(f?{y:f.score,ori:f.raw}:0),h.push(s[n].name)}t.chartRadarConfig.series=[{type:"area",name:"Risk Control Score",data:a,pointPlacement:"on"}],s=m.profitability.features;for(var n in s){var f=i[s[n].feature];o.push(f?{y:f.score,ori:f.raw}:0),r.push(s[n].name)}t.chartRadarProfitConfig.series=[{type:"area",name:"Profitability Score",data:o,pointPlacement:"on"}],t.chartRadarRiskPreferenceConfig.series=[];var v=[];s=m.risk_preference.features;for(var n in s){var f=i[s[n].feature];if(f){var b=f.score;s[n].reversedFrom&&(b=s[n].reversedFrom-f.score),v.push({y:b,ori:f.raw})}else v.push(0);g.push(s[n].name)}t.chartRadarRiskPreferenceConfig.series=[{type:"area",name:"Risk Preference Score",data:v,pointPlacement:"on"}];var y=[];s=m.activity.features;for(var n in s){var f=i[s[n].feature];if(f){var b=f.score;y.push({y:b,ori:f.raw})}else y.push(0);p.push(s[n].name)}t.chartRadarActivityConfig.series=[{type:"area",name:"Activity Score",data:y,pointPlacement:"on"}],t.chartRadarFDTScoreConfig.series=[];var _=[];t.chartRadarFDTScoreConfig.title={text:"FDT Score: "+i.fdt.score.toFixed(2)},t.chartSeedSCScoreConfig.title={text:"FDT Score: "+i.fdt.score.toFixed(2)},s=m.fdt_score.features;for(var n in s){var f=i[s[n].feature];_.push(f?{y:f.score,ori:f.raw}:0),l.push(s[n].name)}var C=[],x=[];s=m.seedsc.fdt_score.features;for(var n in s){var f=i[s[n].feature];C.push(f?{y:f.score,ori:f.raw,weight:f.weight}:0),c.push(s[n].name)}s=m.seedsc.styles.features;for(var n in s){var f=i[s[n].feature];x.push(f?{y:f.score,ori:f.raw,weight:f.weight}:0),d.push(s[n].name)}t.chartRadarFDTScoreConfig.series=[{type:"area",name:"FDT Score",data:_,pointPlacement:"on"}],t.chartSeedSCScoreConfig.series=[{type:"area",name:"FDT Score",data:C,pointPlacement:"on"}],t.chartSeedStyleScoreConfig.series=[{type:"area",name:"Trader Styles",data:x,pointPlacement:"on"}]}})})}t.beta=n.beta,t.region=n.region,t.historyFilePath="getClosedTrades?format=csv&userID="+e+"&db="+a+"&app="+s+(m?"&refresh=true":""),t.historyFileName=e+".csv",i.get("getClosedTrades?userID="+e+"&db="+a+"&app="+s+(m?"&refresh=true":"")).success(function(i){var n=[];for(var r in i)moment(i[r].TRADE_DATE)>=t.dateRange.startDate&&moment(i[r].TRADE_DATE)<=t.dateRange.endDate&&(i[r].ObjId=i[r].POSITION_ID.split("_")[0],i[r].CREATED=moment(i[r].CREATED).toDate().getTime()/6e4,n.push(i[r]));n.sort(function(t,e){return Date.parse(t.TRADE_DATE)-Date.parse(e.TRADE_DATE)}),n=n.reverse(),t.closedList=n,t.rankListLoading=!1,t.loaded=!1,t.userClosedList=n,o(s,a,e)}),"SEED"!=a&&"INC"!=a&&i.get("getContestByApp?userID="+e+"&db="+a+"&app="+s).success(function(e){t.contestList=e}),i.get("getUserLastLogin?userID="+e+"&db="+a+"&app="+s+(m?"&refresh=true":"")).success(function(e){t.userLastLogin=e[0]}),i.get("getUserAccountSetting?userID="+e+"&db="+a+"&app="+s+(m?"&refresh=true":"")).success(function(e){t.userSetting=e[0]}),t.chartPNLConfig.series=[],t.seedsc&&(i.get("getSeedSCStat?type=eff&userID="+e+"&db="+a+"&app="+s+(m?"&refresh=true":"")).success(function(e){t.chartPNLConfig.series=[];for(var i=[],n=0;n<e.length;n++)i.push([Date.parse(e[n].trade_date),parseFloat(e[n].daily_eff)]);t.chartPNLConfig.series.push({type:"bar",name:"Daily P&L Efficiency",data:i})}),i.get("getSeedSCStat?type=commision&userID="+e+"&db="+a+"&app="+s+(m?"&refresh=true":"")).success(function(e){t.chartCommisionConfig.series=[];for(var i=[],n=0;n<e.length;n++)i.push([Date.parse(e[n].trade_date),parseFloat(e[n].daily_commission)]);t.chartCommisionConfig.series.push({type:"bar",name:"Daily Commision",color:"#f8ac59",data:i})}),i.get("getSeedSCStat?type=pos&userID="+e+"&db="+a+"&app="+s+(m?"&refresh=true":"")).success(function(e){t.stats_pos=e}),i.get("getSeedSCStat?type=pnl&userID="+e+"&db="+a+"&app="+s+(m?"&refresh=true":"")).success(function(e){t.stats_pnl=e})),i.get("getUserAccDaily?userID="+e+"&db="+a+"&app="+s+(m?"&refresh=true":"")).success(function(e){var i=[],n=[],a=[],o=[],s=[],r=[],l=[];t.chartConfig.series=[],t.chartValueConfig.series=[],t.chartRankingConfig.series=[],t.chartRollPriceConfig.series=[],t.chartTradeCountConfig.series=[];for(var c=0;c<e.length;c++)moment(e[c].TRADE_DATE)>=t.dateRange.startDate&&moment(e[c].TRADE_DATE)<=t.dateRange.endDate&&(i.push(t.seedsc?[Date.parse(e[c].TRADE_DATE),parseFloat(e[c].ALL_TIME_PNL)]:[Date.parse(e[c].TRADE_DATE),100*(parseFloat(e[c].UNIT_PRICE)-1)]),a.push([Date.parse(e[c].TRADE_DATE),parseFloat(e[c].CASH)]),n.push([Date.parse(e[c].TRADE_DATE),parseFloat(e[c].UNIT_PRICE)*parseFloat(e[c].CASH_DEPOSITED)]),o.push([Date.parse(e[c].TRADE_DATE),parseInt(e[c].Ranking)]),t.seedsc||s.push([Date.parse(e[c].TRADE_DATE),parseInt(e[c].PNL)]),r.push([Date.parse(e[c].TRADE_DATE),parseInt(e[c].UR_PNL)]),l.push([Date.parse(e[c].TRADE_DATE),parseFloat(e[c].ROLL_PRICE)]));if(e&&e.length>0){if(t.dateRange&&t.dateRange.endDate)for(var c in e)t.acc=moment(e[c].TRADE_DATE).format("YYYYMMDD")==moment(t.dateRange.endDate).format("YYYYMMDD")?e[c]:e[0];t.refresh=!1}t.accFirstDate=Date.parse(new Date(e[e.length-1].TRADE_DATE)),t.chartConfig.series.push({type:"area",name:t.seedsc?"All Time P&L":"ROI",data:i}),t.chartRankingConfig.series.push({type:"line",name:"Ranking",data:o}),t.chartValueConfig.series.push({type:"line",name:"Account Value",data:n},{type:"line",name:"Cash Value",data:a}),t.chartRollPriceConfig.series.push({type:"line",name:"Roll Price",data:l}),t.chartTradeCountConfig.series.push({type:"line",name:"UR_PNL",data:r}),t.seedsc||t.chartPNLConfig.series.push({type:"line",name:"Daily P&L",data:s})}),t.chartPieConfig.series=[],i.get("getUserOpenPositions?userID="+e+"&db="+a+"&app="+s+(m?"&refresh=true":"")).success(function(e){var i=[];for(var n in e)i.push({name:e[n].SYMBOL,y:Math.abs(e[n].qty),sign:e[n].qty>=0?"":"-"});t.chartPieConfig.series.push({type:"pie",name:"Open Positions",data:i,pointPlacement:"on"})}),i.get("getDailyLogin?userID="+e+"&db="+a+"&app="+s+(m?"&refresh=true":"")).success(function(e){var i=[];t.chartLoginConfig.series=[];for(var n=0;n<e.length;n++)moment(e[n].date)>=t.dateRange.startDate&&moment(e[n].date)<=t.dateRange.endDate&&i.push([Date.parse(e[n].date),e[n].count]);t.chartLoginConfig.series.push({type:"column",name:"App Open Times",data:i})}),i.get("getDailyTrades?userID="+e+"&db="+a+"&app="+s+(m?"&refresh=true":"")).success(function(e){var i=[],n=[];t.chartTradesConfig.series=[];for(var a=0;a<e.length;a++)moment(e[a].trade_date)>=t.dateRange.startDate&&moment(e[a].trade_date)<=t.dateRange.endDate&&(i.push([Date.parse(e[a].trade_date),parseInt(e[a].tradeCount)-parseInt(e[a].fillCount)]),n.push([Date.parse(e[a].trade_date),parseInt(e[a].fillCount)]));t.chartTradesConfig.series.push({name:"New/Cancel",data:i},{name:"Filled",data:n})}),t.chartRadarConfig.series=[],t.chartRadarProfitConfig.series=[],f(),setTimeout(function(){window.dispatchEvent(new Event("resize"))},100)}Highcharts.setOptions({global:{useUTC:!1}}),t.seedsc="SEEDSC"==n.region&&"SC"==n.app,t.contests={},i.get("getAllContestByApp?db=TW&app=FX").success(function(e){for(var i in e)e[i].name&&(t.contests[e[i].contest_id]=e[i])}),i.get("getAllContestByApp?db=CN&app=FX").success(function(e){for(var i in e)e[i].name&&(t.contests[e[i].contest_id]=e[i])}),i.get("getAllContestByApp?db=CN&app=FC").success(function(e){for(var i in e)e[i].name&&(t.contests[e[i].contest_id]=e[i])}),i.get("getAllContestByApp?db=CN&app=SC").success(function(e){for(var i in e)e[i].name&&(t.contests[e[i].contest_id]=e[i])}),t.dateRange={startDate:moment(e.lastUpdate).subtract(2,"years"),endDate:new Date(e.lastUpdate)},t.products=[{name:"FX",id:"1"},{name:"FC",id:"2"},{name:"SC",id:"3"}],t.userClosedList=[],"All"==e.roleRegion?t.regions=[{name:"Global",id:"Global"},{name:"CN",id:"CN"}]:"CN"==e.roleRegion?t.regions=[{name:"CN",id:"CN"}]:"CN"!=e.roleRegion&&(t.regions=[{name:e.roleRegion,id:e.roleRegion}]),t.productSelected=t.products[0],t.regionSelected=t.regions[0],t.closedList=[],t.scoreProductSelected=t.products[0],t.loadMore=function(){t.userClosedList=t.closedList},t.sideMap={},t.filteredList=[],t.tradeDateCancelClick=function(){t.selectTradeDates=null,t.userClosedList=t.closedList},t.$watch("filteredList",function(){console.info("update close position list"),t.userClosedList=t.filteredList}),t.loadData=function(e){t.refresh=e;var a=n.userID||t.inputUserId,o="";n.userID&&n.userID.indexOf("_1_*1_*1_")>=0&&(o=n.userID.split("_1_*1_*1_")[0],a=n.userID.split("_1_*1_*1_")[1]),t.contestSelected&&t.contestSelected.CONTEST_ID&&(o=t.contestSelected.CONTEST_ID);var r=n.region||t.regionSelected.name,l=n.app||t.productSelected.name;t.db=r,t.app=l,i.get("getUserInfo?userID="+a+"&db="+r).success(function(n){n&&n.length>0?(t.user=n[0],t.joinDate=Date.parse(new Date(n[0].CREATED)),s(a,r,l,o,e)):i.get("getUserInfoByName?userName="+a+"&db="+r).success(function(i){t.user=i[0],s(i[0].USERID,r,l,o,e)})})},t.chartConfig={options:{colors:["#1ab394"],plotOptions:{series:{cursor:"pointer",point:{events:{click:function(){console.info(this.category);var t=moment(this.category).format("YYYY-MM-DD");a(t)}}}}},chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",zoomType:"x"},legend:{enabled:!1}},title:{text:t.seedsc?"All Time P&L Trend":"ROI Trend"},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b. %e",year:"%b"},title:{text:"Date"}},yAxis:{labels:{enabled:!0},title:{text:null}},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},plotOptions:{area:{color:"#0038ff",marker:{enabled:null},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},credits:{enabled:!1},series:t.chartSeries},t.chartValueConfig={options:{colors:["#1ab394","#f8ac59"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",zoomType:"x"},legend:{enabled:!0}},title:{text:"Account & Cash Value Trend"},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b. %e",year:"%b"},title:{text:"Date"}},yAxis:{labels:{enabled:!0},title:{text:null}},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},plotOptions:{area:{color:"#0038ff",marker:{enabled:null},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},credits:{enabled:!1},series:t.chartSeries},t.chartLoginConfig={options:{colors:["#1ab394"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",zoomType:"x"},legend:{enabled:!1}},title:{text:"Login Activities"},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b. %e",year:"%b"},title:{text:"Date"}},yAxis:{labels:{enabled:!0},title:{text:null}},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},plotOptions:{area:{color:"#0038ff",marker:{enabled:null},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},credits:{enabled:!1}},t.chartTradeCountConfig={options:{colors:["#1ab394"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",zoomType:"x"},legend:{enabled:!1}},title:{text:"UR_P&L Trend"},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b. %e",year:"%b"},title:{text:"Date"}},yAxis:{labels:{enabled:!0},title:{text:null}},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},plotOptions:{area:{color:"#0038ff",marker:{enabled:null},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},credits:{enabled:!1}},t.chartRollPriceConfig={options:{colors:["#1ab394"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",zoomType:"x"},legend:{enabled:!1}},title:{text:"Roll Price"},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b. %e",year:"%b"},title:{text:"Date"}},yAxis:{labels:{enabled:!0},title:{text:null}},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},plotOptions:{area:{color:"#0038ff",marker:{enabled:null},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},credits:{enabled:!1}},t.chartPNLConfig={options:{colors:["#1ab394"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",zoomType:"x"},legend:{enabled:!1}},title:{text:t.seedsc?"Daily P&L Efficiency":"Daily PNL Trend"},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b. %e",year:"%b"},title:{text:"Date"}},yAxis:{labels:{enabled:!0},title:{text:null}},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},plotOptions:{area:{color:"#0038ff",marker:{enabled:null},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},credits:{enabled:!1}},t.chartCommisionConfig={options:{chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",zoomType:"x"},legend:{enabled:!1}},title:{text:"Daily Commision"},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b. %e",year:"%b"},title:{text:"Date"}},yAxis:{labels:{enabled:!0},title:{text:null}},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},plotOptions:{area:{color:"#0038ff",marker:{enabled:null},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},credits:{enabled:!1}},t.chartTradesConfig={options:{colors:["#1ab394","#127E68"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",zoomType:"x",type:"column"},plotOptions:{column:{stacking:"normal",depth:10}},tooltip:{headerFormat:"<b>{point.key}</b><br>",pointFormat:'<span style="color:{series.color}">●</span> {series.name}: {point.y} / {point.stackTotal}'}},title:{text:"Daily Trades"},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b. %e",year:"%b"},title:{text:"Date"}},yAxis:{title:{text:"Trades"}},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},legend:{enabled:!0},credits:{enabled:!1}},t.chartRankingConfig={options:{colors:["#1ab394"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",zoomType:"x",type:"line"}},title:{text:"Daily Ranking"},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b. %e",year:"%b"},title:{text:"Date"}},yAxis:{reversed:!0,title:{text:"Trades"}},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},legend:{enabled:!0},credits:{enabled:!1}},t.chartPieConfig={options:{colors:["#1ab394","#90ee7e","#f45b5b","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",style:{fontFamily:"'Unica One', sans-serif"},legend:{enabled:!0},plotBorderColor:"#606063",type:"pie",options3d:{enabled:!0,alpha:45,beta:0}},tooltip:{pointFormat:"Qty: <b>{point.sign}{point.y}</b> <br> {point.percentage:.1f} %"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",depth:35,dataLabels:{enabled:!0,format:"{point.name}"}}},rangeSelector:{buttonTheme:{fill:"white",stroke:"#C0C0C8","stroke-width":1,states:{select:{fill:"#D0D0D8"}}}},scrollbar:{trackBorderColor:"#C0C0C8"}},title:{text:"Open Positions"}};var r=[],l=[],c=[],d=[],h=[],g=[],p=[];t.chartRadarConfig={options:{colors:["#FDCC99"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",polar:!0,type:"line"},pane:{size:"80%"},tooltip:{shared:!0,pointFormat:'<span style="color:{series.color}">{series.name}: <b>{point.y:,.0f}</b><br/><span style="color:{series.color}">Origin: <b>{point.ori:,.4f}</b>'}},title:{text:""},pane:{size:"80%"},xAxis:{categories:h,tickmarkPlacement:"on",lineWidth:0},yAxis:{gridLineInterpolation:"polygon",lineWidth:0,min:0,max:100},tooltip:{shared:!0,pointFormat:'<span style="color:{series.color}">{series.name}: <b>${point.y:,.4f}</b><br/>'},legend:{align:"right",verticalAlign:"top",y:70,layout:"vertical"}},t.chartRadarRiskPreferenceConfig={options:{colors:["#A5E6C0"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",polar:!0,type:"line"},pane:{size:"80%"},tooltip:{shared:!0,pointFormat:'<span style="color:{series.color}">{series.name}: <b>{point.y:,.4f}</b><br/><span style="color:{series.color}">Origin: <b>{point.ori:,.4f}</b>'}},title:{text:""},pane:{size:"80%"},xAxis:{categories:g,tickmarkPlacement:"on",lineWidth:0},yAxis:{gridLineInterpolation:"polygon",lineWidth:0,min:0,max:100},legend:{align:"right",verticalAlign:"top",y:70,layout:"vertical"}},t.chartRadarActivityConfig={options:{colors:["#D8A8DE"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",polar:!0,type:"line"},pane:{size:"80%"},tooltip:{shared:!0,pointFormat:'<span style="color:{series.color}">{series.name}: <b>{point.y:,.4f}</b><br/><span style="color:{series.color}">Origin: <b>{point.ori:,.4f}</b>'}},title:{text:""},pane:{size:"80%"},xAxis:{categories:p,tickmarkPlacement:"on",lineWidth:0},yAxis:{gridLineInterpolation:"polygon",lineWidth:0,min:0,max:100},legend:{align:"right",verticalAlign:"top",y:70,layout:"vertical"}},t.chartRadarProfitConfig={options:{colors:["#BDDAF7"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",polar:!0,type:"line"},pane:{size:"80%"},tooltip:{shared:!0,pointFormat:'<span style="color:{series.color}">{series.name}: <b>{point.y:,.4f}</b><br/><span style="color:{series.color}">Origin: <b>{point.ori:,.4f}</b>'}},title:{text:""},pane:{size:"80%"},xAxis:{categories:r,tickmarkPlacement:"on",lineWidth:0},yAxis:{gridLineInterpolation:"polygon",lineWidth:0,min:0,max:100},legend:{align:"right",verticalAlign:"top",y:70,layout:"vertical"}},t.chartSeedSCScoreConfig={options:{colors:["#1ab394"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",polar:!0,type:"line"},pane:{size:"80%"},tooltip:{shared:!0,pointFormat:'<span style="color:{series.color}">{series.name}: <b>{point.y:,.4f}</b><br/><span style="color:{series.color}">Origin: <b>{point.ori:,.4f}</b><br/><span style="color:{series.color}">Weitht: <b>{point.weight:,.4f}</b>'}},title:{text:""},pane:{size:"80%"},xAxis:{categories:c,tickmarkPlacement:"on",lineWidth:0},yAxis:{gridLineInterpolation:"polygon",lineWidth:0,min:0,max:100},legend:{align:"right",verticalAlign:"top",y:70,layout:"vertical"}},t.chartSeedStyleScoreConfig={options:{colors:["#D8A8DE"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",polar:!0,type:"line"},pane:{size:"80%"},tooltip:{shared:!0,pointFormat:'<span style="color:{series.color}">{series.name}: <b>{point.y:,.4f}</b><br/><span style="color:{series.color}">Origin: <b>{point.ori:,.4f}</b><br/><span style="color:{series.color}">Weitht: <b>{point.weight:,.4f}</b>'}},title:{text:""},pane:{size:"80%"},xAxis:{categories:d,tickmarkPlacement:"on",lineWidth:0},yAxis:{gridLineInterpolation:"polygon",lineWidth:0,min:0,max:100},legend:{align:"right",verticalAlign:"top",y:70,layout:"vertical"}},t.chartRadarFDTScoreConfig={options:{colors:["#1ab394"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",polar:!0,type:"line"},pane:{size:"80%"},tooltip:{shared:!0,pointFormat:'<span style="color:{series.color}">{series.name}: <b>{point.y:,.4f}</b><br/>'}},title:{text:""},pane:{size:"80%"},xAxis:{categories:l,tickmarkPlacement:"on",lineWidth:0},yAxis:{gridLineInterpolation:"polygon",lineWidth:0,min:0,max:100},legend:{align:"right",verticalAlign:"top",y:70,layout:"vertical"}},n.userID&&(t.loadData(),t.hasUserId=!0)
}]),angular.module("inspinia").controller("MT4UserCtrl",["$scope","$rootScope","$http",function(t,e,i){i.get("getMT4Users").success(function(e){t.userList=e})}]),angular.module("inspinia").controller("MT4ProfileCtrl",["$scope","$rootScope","$http","$stateParams",function(t,e,i,n){Highcharts.setOptions({global:{useUTC:!1}}),t.user={},t.userClosedList=[],t.beta=n.beta,t.closedList=[],i.get("getMT4Account?account="+n.accountID).success(function(e){t.acc=e[0];var i=e[0].trades,n=[];for(var a in i)i[a].closeTimeTs=Date.parse(i[a].closeTime)/6e4,i[a].openTimeTs=Date.parse(i[a].openTime)/6e4,"balance"!=i[a].type&&"credit"!=i[a].type&&n.push(i[a]);n.sort(function(t,e){return new Date(e.closeTime)-new Date(t.closeTime)}),t.userClosedList=n,t.chartPieConfig.series=[];var o=e[0].openTrades,s=[];for(var a in o)s.push({name:o[a].item,y:Math.abs(o[a].size),sign:o[a].size>=0?"":"-"});t.chartPieConfig.series.push({type:"pie",name:"User Profolio",data:s,pointPlacement:"on"})}),i.get("getMT4AccountDaily?userId="+n.accountID).success(function(e){var i=[];t.chartConfig.series=[];for(var n=0;n<e.length;n++)i.push([Date.parse(e[n].TRADE_DATE),100*(parseFloat(e[n].UNIT_PRICE)-1)]);e&&e.length>0&&(t.performance={BiggestWin:e[0].BiggestWin,BiggestLoss:e[0].BiggestLoss,WinRatio:e[0].WinRatio,TradesCount:e[0].TradesCount,UNIT_PRICE:e[0].UNIT_PRICE,ALL_TIME_PNL:e[0].ALL_TIME_PNL,CASH_DEPOSITED:e[0].CASH_DEPOSITED}),t.chartConfig.series.push({type:"area",name:"ROI",data:i})}),i.get("getMT4Score?userId="+n.accountID).success(function(e){var i=[],n=[];i.push(e.ft_shp_rt?{y:e.ft_shp_rt.score,ori:e.ft_shp_rt.raw}:0),i.push(e.ft_tmdd?{y:e.ft_tmdd.score,ori:e.ft_tmdd.raw}:0),i.push(e.ft_mdd?{y:e.ft_mdd.score,ori:e.ft_mdd.raw}:0),i.push(e.ft_std_neg_pnlr?{y:e.ft_std_neg_pnlr.score,ori:e.ft_std_neg_pnlr.raw}:0),i.push(e.ft_bgl?{y:e.ft_bgl.score,ori:e.ft_bgl.raw}:0),t.chartRadarFDTScoreConfig.title={text:"FDT Score: "+e.fdt.score.toFixed(2)},t.chartRadarConfig.series=[{type:"area",name:"Risk Control Score",data:i,pointPlacement:"on"}],n.push(e.ft_bgw?{y:e.ft_bgw.score,ori:e.ft_bgw.raw}:0),n.push(e.ft_roll_price?{y:e.ft_roll_price.score,ori:e.ft_roll_price.raw}:0),n.push(e.ft_streak?{y:e.ft_streak.score,ori:e.ft_streak.raw}:0),t.chartRadarProfitConfig.series=[{type:"area",name:"Profitability Score",data:n,pointPlacement:"on"}],t.chartRadarRiskPreferenceConfig.series=[];var i=[];i.push(e.ft_avg_dr?{y:100-e.ft_avg_dr.score,ori:e.ft_avg_dr.raw}:0),i.push(e.ft_df_qty?{y:e.ft_df_qty.score,ori:e.ft_df_qty.raw}:0),i.push(e.ft_avg_max_op?{y:100-e.ft_avg_max_op.score,ori:e.ft_avg_max_op.raw}:0),i.push(e.ft_avg_ngt_op?{y:100-e.ft_avg_ngt_op.score,ori:e.ft_avg_ngt_op.raw}:0),t.chartRadarRiskPreferenceConfig.series=[{type:"area",name:"Risk Preference Score",data:i,pointPlacement:"on"}],t.chartRadarFDTScoreConfig.title={text:"FDT Score: "+e.fdt.score.toFixed(2)},t.chartRadarFDTScoreConfig.series=[];var i=[];i.push(e.riskCtrl.score),i.push(e.profitability.score),i.push(e.consistency.score),i.push(e.activity.score),t.chartRadarFDTScoreConfig.series=[{type:"area",name:"FDT Score",data:i,pointPlacement:"on"}]}),t.chartRadarFDTScoreConfig={options:{colors:["#1ab394"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",polar:!0,type:"line"},pane:{size:"80%"},tooltip:{shared:!0,pointFormat:'<span style="color:{series.color}">{series.name}: <b>{point.y:,.2f}</b><br/>'}},title:{text:""},pane:{size:"80%"},xAxis:{categories:["Risk Control(风险控制能力)","Profitability(盈利能力)","Steadiness(稳定性)","Activeness(活跃度)"],tickmarkPlacement:"on",lineWidth:0},yAxis:{gridLineInterpolation:"polygon",lineWidth:0,min:0,max:100},legend:{align:"right",verticalAlign:"top",y:70,layout:"vertical"}},t.chartConfig={options:{colors:["#1ab394"],plotOptions:{series:{cursor:"pointer",point:{events:{click:function(){console.info(this.category);var t=moment(this.category).format("YYYY-MM-DD");_filterTradeDate(t)}}}}},chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",zoomType:"x"},legend:{enabled:!1}},title:{text:"ROI Trend"},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b. %e",year:"%b"},title:{text:"Date"}},yAxis:{labels:{enabled:!0},title:{text:null}},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},plotOptions:{area:{color:"#0038ff",marker:{enabled:null},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},credits:{enabled:!1},series:t.chartSeries},t.chartRadarConfig={options:{colors:["#A5E6C0"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",polar:!0,type:"line"},pane:{size:"80%"},tooltip:{shared:!0,pointFormat:'<span style="color:{series.color}">{series.name}: <b>{point.y:,.0f}</b><br/><span style="color:{series.color}">Origin: <b>{point.ori:,.2f}</b>'}},title:{text:""},pane:{size:"80%"},xAxis:{categories:["Annual Sharpe Ratio (年化夏普比例)","Timed Maximum Drawdown (最大回撤日均值)","Draw-down (收益回撤控制)","Loss variance (损失波动控制)","Order loss (单笔损失控制)"],tickmarkPlacement:"on",lineWidth:0},yAxis:{gridLineInterpolation:"polygon",lineWidth:0,min:0,max:100},tooltip:{shared:!0,pointFormat:'<span style="color:{series.color}">{series.name}: <b>${point.y:,.0f}</b><br/>'},legend:{align:"right",verticalAlign:"top",y:70,layout:"vertical"}},t.chartRadarRiskPreferenceConfig={options:{colors:["#A5E6C0"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",polar:!0,type:"line"},pane:{size:"80%"},tooltip:{shared:!0,pointFormat:'<span style="color:{series.color}">{series.name}: <b>{point.y:,.0f}</b><br/><span style="color:{series.color}">Origin: <b>{point.ori:,.2f}</b>'}},title:{text:""},pane:{size:"80%"},xAxis:{categories:["Open Position Duration(持仓时间)","Default Qty Ratio(默认交易量比例)","Max Open Position(最大仓位)","Overnight Open Position(隔夜仓位)"],tickmarkPlacement:"on",lineWidth:0},yAxis:{gridLineInterpolation:"polygon",lineWidth:0,min:0,max:100},legend:{align:"right",verticalAlign:"top",y:70,layout:"vertical"}},t.chartRadarProfitConfig={options:{colors:["#A5E6C0"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",polar:!0,type:"line"},pane:{size:"80%"},tooltip:{shared:!0,pointFormat:'<span style="color:{series.color}">{series.name}: <b>{point.y:,.0f}</b><br/><span style="color:{series.color}">Origin: <b>{point.ori:,.2f}</b>'}},title:{text:""},pane:{size:"80%"},xAxis:{categories:["Biggest Win(最大獲利)","Roll Price(交易時段回報率)","Streak(連續盈利天數)"],tickmarkPlacement:"on",lineWidth:0},yAxis:{gridLineInterpolation:"polygon",lineWidth:0,min:0,max:100},legend:{align:"right",verticalAlign:"top",y:70,layout:"vertical"}},t.chartPieConfig={options:{colors:["#1ab394","#90ee7e","#f45b5b","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",style:{fontFamily:"'Unica One', sans-serif"},legend:{enabled:!0},plotBorderColor:"#606063",type:"pie",options3d:{enabled:!0,alpha:45,beta:0}},tooltip:{pointFormat:"Qty: <b>{point.sign}{point.y}</b> <br> {point.percentage:.1f} %"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",depth:35,dataLabels:{enabled:!0,format:"{point.name}"}}},rangeSelector:{buttonTheme:{fill:"white",stroke:"#C0C0C8","stroke-width":1,states:{select:{fill:"#D0D0D8"}}}},scrollbar:{trackBorderColor:"#C0C0C8"}},title:{text:"Portfolio"}}}]),angular.module("inspinia").controller("CoreUserCtrl",["$scope","$rootScope","$http",function(t,e,i){function n(){for(var e=0;e<t.userList.length;e++)i.get("getUserInfo?app="+t.appSelected+"&db="+t.regionSelected+"&userID="+t.userList[e].user_id).success(function(e){if(e&&e.length>0){var i=e[0];t.usersMap[i.USERID]=i}})}var a=[{name:"台灣大學",key:501,region:"TW"},{name:"政治大學",key:502,region:"TW"},{name:"清華大學",key:505,region:"TW"},{name:"中山大學",key:508,region:"TW"},{name:"台灣師範大學",key:506,region:"TW"},{name:"中央大學",key:507,region:"TW"},{name:"交通大學",key:503,region:"TW"},{name:"中興大學",key:520,region:"TW"},{name:"輔仁大學",key:511,region:"TW"},{name:"東吳大學",key:518,region:"TW"},{name:"淡江大學",key:509,region:"TW"},{name:"東海大學",key:514,region:"TW"},{name:"逢甲大學",key:529,region:"TW"},{name:"實踐大學",key:566,region:"TW"},{name:"台北商業大學",key:538,region:"TW"},{name:"中正",key:513,region:"TW"},{name:"暨南大學",key:516,region:"TW"},{name:"銘傳大學",key:517,region:"TW"}],o=[{name:"北京大学",key:82,region:"CN"},{name:"清华大学",key:129,region:"CN"},{name:"人民大学",key:73,region:"CN"},{name:"北京师范大学",key:104,region:"CN"},{name:"北京航空航天大学",key:78,region:"CN"},{name:"对外贸易大学",key:77,region:"CN"},{name:"中央财经大学",key:50,region:"CN"},{name:"南开大学",key:"IN0102",region:"CN"},{name:"上海交通大学",key:"IN0061",region:"CN"},{name:"复旦大学",key:202,region:"CN"},{name:"上海财经大学",key:208,region:"CN"},{name:"南京大学",key:201,region:"CN"},{name:"浙江大学",key:231,region:"CN"},{name:"中山大学",key:205,region:"CN"},{name:"西南财经大学",key:228,region:"CN"},{name:"武汉大学",key:601,region:"CN"}];t.appTypes=["FX","FC","SC"],t.regions=["TW","IN","CN","US","AU","HK","GB","KE","ID","SG","PK","NZ","TR","CO","GR","FR","SE","PT","CZ","JP","CA","RU","MO","NO","IE","MY","BR","ZA","VE","AE","IQ","KZ","NP","UA","HR","GH","NG","AT","VN","EG","MC","IT","BE","KR","AZ","DE","AF","LT","KH","PH","SA","ES","ME","IL","KW","NL","PL","RO","AM","BT","KG","YE","JA","TH","AR","BD","MX","NI","SY","SR","ZW","null","SD","BN","IO","LR"],t.appSelected=t.appTypes[0],t.regionSelected=t.regions[0],t.limitList=20,t.usersMap={},t.active=30,t.setActive=function(e){t.active=e},t.isActive=function(e){return e===t.active},t.changeRegion=function(){"TW"==t.regionSelected?t.schools=a:"CN"==t.regionSelected&&(t.schools=o),t.schools.unshift({name:"All",key:"all",region:"All"}),t.schoolSelected=t.schools[0],t.changeSelect()},t.changeSelect=function(e){e&&(t.active=e),t.userList=[],t.totalUser=0,i.get("getCoreUserBySchool?app="+t.appSelected+"&db="+t.regionSelected+"&school_key="+(t.schoolSelected?t.schoolSelected.key:"all")).success(function(e){var i=[];for(var a in e)e[a].life>=t.active&&i.push(e[a]);t.totalUser=i.length,t.userList=i.slice(0,t.limitList),n()})}}]),angular.module("inspinia").controller("CMBCtrl",["$scope","$rootScope","$http",function(t,e,i){function n(){for(var e=0;e<t.userList.length;e++)i.get("getUserInfo?app=FC&db=CN&userID="+t.userList[e].userId).success(function(e){if(e&&e.length>0){var i=e[0];t.usersMap[i.USERID]=i}})}t.changeFt=function(){var e="Top"==t.sortTypeSelected?!0:!1,a="Random"==t.sortTypeSelected?!0:!1;i.get("getFinlinkList?type="+t.featureSelected.key+"&desc="+e+(a?"&random=true":"")+"&limit="+t.limitList+"&logincnt="+t.loginCount+"&tradecnt="+t.tradeCount+"&unitPrice="+t.unitPrice+"&mdd="+t.mdd).success(function(e){t.userList=e,n()})},t.limitList=10,t.loginCount=0,t.tradeCount=0,t.unitPrice=.95,t.mdd=-.15,t.features=[{key:"banker_trader_steady",name:"稳健交易型"},{key:"banker_trader_active",name:"积极交易型"},{key:"banker_trader_balanced",name:"平衡交易型"},{key:"banker_investor_steady",name:"稳健投资型"},{key:"banker_investor_active",name:"积极投资型"},{key:"banker_investor_balanced",name:"平衡投资型"},{key:"banker_risk_control",name:"风险控制型"},{key:"banker_marketing",name:"市场营销型"}],t.sortTypes=["Top","Tail","Random"],t.usersMap={},t.featureSelected=t.features[0],t.sortTypeSelected=t.sortTypes[0]}]),angular.module("inspinia").controller("TabsDemoCtrl",["$scope","$rootScope","$window",function(t){t.tabs=[{title:"Global",content:"Dynamic content 1"},{title:"China",content:"Dynamic content 2",disabled:!0}],t.click=function(){setTimeout(function(){window.dispatchEvent(new Event("resize"))},100)}}]),angular.module("inspinia").controller("PredictCrol",["$scope","$rootScope","$http",function(t,e,i){function n(e){var n="";n=e&&0==e.indexOf("6")?"sh"+e:"sz"+e,i.get("getStockHistory?symbol="+n).success(function(i){var i=i.record;t.stockHistMap[e]={today:i[i.length-1],last:i[i.length-2]}})}function a(e){i.get("getPredictFromMongo?date="+e).success(function(e){t.predictList=e})}function o(e){t.top10Mean=0,t.top20Mean=0,t.top30Mean=0,t.top40Mean=0,i.get("getPredictFromMongo?date="+e).success(function(e){var i=0,a=0,o=0,s=0;t.obsList=e;for(var r in e)10>r&&e[r].realtimeInfo&&parseFloat(e[r].realtimeInfo.open)>0&&(i+=(parseFloat(e[r].realtimeInfo.high)-parseFloat(e[r].realtimeInfo.low))/parseFloat(e[r].realtimeInfo.settlement)*100),20>r&&e[r].realtimeInfo&&parseFloat(e[r].realtimeInfo.open)>0&&(a+=(parseFloat(e[r].realtimeInfo.high)-parseFloat(e[r].realtimeInfo.low))/parseFloat(e[r].realtimeInfo.settlement)*100),30>r&&e[r].realtimeInfo&&parseFloat(e[r].realtimeInfo.open)>0&&(o+=(parseFloat(e[r].realtimeInfo.high)-parseFloat(e[r].realtimeInfo.low))/parseFloat(e[r].realtimeInfo.settlement)*100),40>r&&e[r].realtimeInfo&&parseFloat(e[r].realtimeInfo.open)>0&&(s+=(parseFloat(e[r].realtimeInfo.high)-parseFloat(e[r].realtimeInfo.low))/parseFloat(e[r].realtimeInfo.settlement)*100),n(e[r].stock_id);t.top10Mean=parseFloat(i/10),t.top20Mean=parseFloat(a/20),t.top30Mean=parseFloat(o/30),t.top40Mean=parseFloat(s/40)})}t.stockHistMap={},i.get("getRealTimeQuotes").success(function(e){t.stockName={};for(var i in e)t.stockName[e[i].code]=e[i].name}),i.get("getStockHistory?symbol=sh000001").success(function(e){var e=e.record,n=e[e.length-1],s=e[e.length-2];t.shIndex=n,t.shIndexVar=(parseFloat(n[2])-parseFloat(s[3]))/parseFloat(s[3])*100,t.indexVol=(parseFloat(n[2])-parseFloat(n[4]))/parseFloat(s[2])*100;var r="";r=(new Date).getHours()<15?s[0]:s[0],(new Date).getHours()>=15&&a(n[0]),t.obsDate=n[0],o(r),i.get("getPredictionHistoryTopByDate?date=predict_"+r).success(function(e){t.volTop=e})})}]),angular.module("inspinia").controller("SeedUserListCrol",["$scope","$rootScope","$http","$filter",function(t,e,i,n){t.rowCollection=[],t.historyFilePath="getSeedList?format=csv",t.historyFileName=n("date")(new Date,"yyyy-MM-dd")+"_seed.csv",t.loadSeedData=function(){i.get("getSeedList").success(function(e){t.userList=e}),i.get("getSeedSummary").success(function(e){t.summaryList=e;var i=[];for(var n in e)i.push({name:e[n].SYMBOL,y:e[n].QTY,pnl:e[n].PNL});t.chartPieConfig.series=[{type:"pie",name:"",data:i,pointPlacement:"on"}]}),i.get("getSeedCount").success(function(e){t.summaryObj=e})},t.loadSeedData(),t.chartPieConfig={options:{colors:["#1ab394","#90ee7e","#f45b5b","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",style:{fontFamily:"'Unica One', sans-serif"},legend:{enabled:!0},plotBorderColor:"#606063",type:"pie",options3d:{enabled:!0,alpha:45,beta:0}},tooltip:{pointFormat:"Qty: <b>{point.y}</b> <br> PNL: <b>{point.pnl}</b> <br> {point.percentage:.1f} %"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",depth:35,dataLabels:{enabled:!0,format:"{point.name}"}}},rangeSelector:{buttonTheme:{fill:"white",stroke:"#C0C0C8","stroke-width":1,states:{select:{fill:"#D0D0D8"}}}},scrollbar:{trackBorderColor:"#C0C0C8"}},title:{text:"Symbols"}}}]),angular.module("inspinia").controller("UserRankingCrol",["$scope","$rootScope","$http",function(t,e,i){var n=[{name:"FX",id:"1"},{name:"FC",id:"2"},{name:"SC",id:"3"}],a=[];t.$watch(function(){return e.selectedSchool},function(){e.selectedSchool&&(t.products="CN"==e.regionSelected?n:[n[0]],t.selected=t.products[0],t.loadSchoolData(e.selectedSchool))},!0),t.loadSchoolData=function(n){t.loaded=!1,t.userRankList=[],t.rankListLoading=!0,i.get("getUserRanking?school_key="+n+"&app="+t.selected.name+"&db="+e.regionSelected).success(function(e){a=e,t.rankListLoading=!1,t.userRankList=e.slice(0,10)})},t.loadMore=function(){t.userRankList=a},t.changeProduct=function(){t.loadSchoolData(e.selectedSchool)}}]),angular.module("inspinia").controller("SchoolCtrl",["$scope","$rootScope","$http",function(t,e,i){function n(n){i.get("getSchools?db="+n).success(function(i){for(var a in i)if(i[a].school_name&&(i[a].school_region&&t.regions.indexOf(i[a].school_region)<0&&(e.roleRegion==i[a].school_region||"All"==e.roleRegion||"Overseas"==e.roleRegion&&"CN"!=i[a].school_region)&&t.regions.push(i[a].school_region),o.indexOf(i[a].school_key)<0&&"INOTHER"!=i[a].school_key&&"825"!=i[a].school_key&&"672"!=i[a].school_key)){if("CN"==n&&"CN"!=i[a].school_region)continue;(i[a].school_key==e.roleSchool||"All"==e.roleSchool)&&(t.schoolsList.push(i[a]),o.push(i[a].school_key))}console.info(t.regions)})}function a(){t.totalUser=0,t.monthUserFX=0,t.weekUserFX=0,t.monthUserFC=0,t.weekUserFC=0,t.monthUserSC=0,t.weekUserSC=0,t.school.selected=void 0,t.core30=0,t.core60=0,t.core90=0,t.coreFC30=0,t.coreFX30=0,t.coreSC30=0,t.coreFC60=0,t.coreFX60=0,t.coreSC60=0,t.coreFC90=0,t.coreFX90=0,t.coreSC90=0}t.regions=[],t.schoolsList=[];var o=[];t.schools=[],t.school={},t.compareList=[],n(),n("CN"),t.addSchool=function(){t.school.selected="Please select a school to compare ...",t.isCompard=!0},t.loadSchoolData=function(e){i.get("getSchoolUserGrowth?school_key="+e.school_key+"&db="+e.school_region).success(function(i){t.isCompard||(t.chartConfig.series=[]);for(var n=[],a=0;a<i.length;a++)n.push([Date.parse(i[a].date),i[a].total_user_num]);t.chartConfig.series.push({type:"spline",name:e.school_name,data:n})})},t.onSearch=function(){},t.loadCountData=function(e){a(),i.get("getSchoolUserCountByApp?app=FX&school_key="+e.school_key+"&db="+e.school_region).success(function(e){var i=e;t.totalUser=i.totalUser,t.monthUserFX=i.monthlyActiveUser,t.weekUserFX=i.weeklyActiveUser}),"CN"==e.school_region?(t.isChina=!0,i.get("getSchoolUserCountByApp?app=SC&school_key="+e.school_key+"&db="+e.school_region).success(function(e){var i=e;t.monthUserSC=i.monthlyActiveUser,t.weekUserSC=i.weeklyActiveUser}),i.get("getSchoolUserCountByApp?app=FC&school_key="+e.school_key+"&db="+e.school_region).success(function(e){var i=e;t.totalUser=i.totalUser,t.monthUserFC=i.monthlyActiveUser,t.weekUserFC=i.weeklyActiveUser}),i.get("getCoreUserBySchool?app=FC&school_key="+e.school_key+"&db="+e.school_region).success(function(e){var i=0,n=0,a=0;for(var o in e)e[o].life>30&&i++,e[o].life>60&&n++,e[o].life>90&&a++;t.coreFC30=i,t.coreFC60=n,t.coreFC90=a}),i.get("getCoreUserBySchool?app=FX&school_key="+e.school_key+"&db="+e.school_region).success(function(e){var i=0,n=0,a=0;for(var o in e)e[o].life>30&&i++,e[o].life>60&&n++,e[o].life>90&&a++;t.coreFX30=i,t.coreFX60=n,t.coreFX90=a}),i.get("getCoreUserBySchool?app=SC&school_key="+e.school_key+"&db="+e.school_region).success(function(e){var i=0,n=0,a=0;for(var o in e)e[o].life>30&&i++,e[o].life>60&&n++,e[o].life>90&&a++;t.coreSC30=i,t.coreSC60=n,t.coreSC90=a})):(t.isChina=!1,i.get("getCoreUserBySchool?app=FX&school_key="+e.school_key+"&db="+e.school_region).success(function(e){var i=0,n=0,a=0;for(var o in e)e[o].life>30&&i++,e[o].life>60&&n++,e[o].life>90&&a++;t.core30=i,t.core60=n,t.core90=a}))},t.onSchoolSelect=function(i){t.count_show=!0,t.loadSchoolData(i),t.loadCountData(i),e.selectedSchool=i.school_key},t.onRegionSelect=function(i){if(a(),t.schools=[],e.regionSelected=i,t.school_show=!0,t.schoolsList.length>0){"All"==e.roleSchool&&t.schools.push({school_key:"all",school_name:"All schools"});for(var n in t.schoolsList)t.schoolsList[n].school_region&&t.schoolsList[n].school_region==i&&(t.schools.push(t.schoolsList[n]),t.schools[0].school_region=t.schoolsList[n].school_region)}},t.chartConfig={chart:{backgroundColor:null,zoomType:"x"},title:{text:"User Growth"},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b. %e",year:"%b"},title:{text:"Date"}},yAxis:{title:{text:"Users"},min:0},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},legend:{enabled:!0},plotOptions:{area:{color:"#0038ff",marker:{enabled:null},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},credits:{enabled:!1},series:t.chartSeries}}]),angular.module("inspinia").controller("QuantCrol",["$scope","$rootScope","$http",function(t,e,i){t.chartConfig={options:{chart:{backgroundColor:null,zoomType:"x"},title:{text:"User Growth"},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b. %e",year:"%b"},title:{text:"Date"}},yAxis:{title:{text:"Users"},min:0},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"}},legend:{enabled:!0},plotOptions:{area:{color:"#0038ff",marker:{enabled:null},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},credits:{enabled:!1}},t.chartConfig.series=[],console.info("quant..."),i.get("getSymbol?symbol=EURJPY").success(function(e){for(var i=[],n=[],a=[],o=19;o<e.length;o++)i.push([Date.parse(e[o].KEYTIME),e[o].CLOSE_PRICE-130]),n.push([Date.parse(e[o].KEYTIME),e[o].max20-130]),a.push([Date.parse(e[o].KEYTIME),e[o].min10-130]);t.chartConfig.series.push({type:"spline",name:"Close Price",data:i},{type:"spline",name:"Max 20",data:n},{type:"spline",name:"Min10",data:a})})}]),angular.module("inspinia").controller("ContestCrol",["$scope","$rootScope","$http",function(t,e,i){var n=[{name:"FX",id:"1"},{name:"FC",id:"2"},{name:"SC",id:"3"}];t.$watch(function(){return e.selectedSchool},function(){e.selectedSchool&&(t.products="CN"==e.regionSelected?n:[n[0]],t.selected=t.products[0],t.loadContentData(e.selectedSchool))},!0),t.loadContentData=function(n){t.contestList=[],i.get("getContestByApp?school_key="+n+"&app="+t.selected.name+"&db="+e.regionSelected).success(function(e){t.contestList=e})},t.changeProduct=function(){t.loadContentData(e.selectedSchool)}}]);var app=angular.module("inspinia");app.controller("MapCtrl",["$scope","$location","$http",function(t,e,i){t.data=function(){i.get("getRegionDist?file=Global_Country_TU").success(function(e){e=e.data.Global_Country_TU;var i={};t.markers=[];for(var n=0;n<e.length;n++)e[n].Country&&(i[e[n].Country]=parseInt(e[n]["Total Users"])),"HK"==e[n].Country&&t.markers.push({latLng:[22.15,114.1],name:"Hong Kong",values:parseInt(e[n]["Total Users"])});t.datamap=i})}}]),app.directive("map",function(){return{restrict:"EAC",link:function(t,e){var i=null;t.$watch("datamap",function(){console.log(i),t.datamap&&($(e).width("auto"),$(e).height(400),i=$(e).vectorMap({onRegionClick:function(t,e){console.info(e)},map:"world_mill_en",backgroundColor:"transparent",regionStyle:{initial:{fill:"#e4e4e4","fill-opacity":1,stroke:"none","stroke-width":0,"stroke-opacity":0}},series:{regions:[{values:t.datamap,scale:["#1ab394","#ED5565"],normalizeFunction:"polynomial"}]},onMarkerTipShow:function(e,i,n){i.html(i.html()+": "+(t.markers[n]?t.markers[n].values:""))},onRegionTipShow:function(e,i,n){i.html(i.html()+": "+(t.datamap[n]?t.datamap[n]:""))},markers:t.markers,markerStyle:{initial:{fill:"#F8E23B",stroke:"#383f47"}}}))})}}}),angular.module("inspinia").controller("IncUserListCrol",["$scope","$rootScope","$http","$filter",function(t,e,i,n){t.rowCollection=[],t.historyFilePath="getIncuList?format=csv",t.historyFileName=n("date")(new Date,"yyyy-MM-dd")+"_incubatee.csv",t.loadIncuData=function(){i.get("getIncuList").success(function(e){t.userList=e}),i.get("getIncuSummary").success(function(e){t.summaryList=e;var i=[];for(var n in e)i.push({name:e[n].SYMBOL,y:e[n].QTY,pnl:e[n].PNL});t.chartPieConfig.series=[{type:"pie",name:"",data:i,pointPlacement:"on"}]}),i.get("getIncuCount").success(function(e){t.summaryObj=e})},t.loadIncuData(),t.chartPieConfig={options:{colors:["#1ab394","#90ee7e","#f45b5b","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",style:{fontFamily:"'Unica One', sans-serif"},legend:{enabled:!0},plotBorderColor:"#606063",type:"pie",options3d:{enabled:!0,alpha:45,beta:0}},tooltip:{pointFormat:"Qty: <b>{point.y}</b> <br> PNL: <b>{point.pnl}</b> <br> {point.percentage:.1f} %"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",depth:35,dataLabels:{enabled:!0,format:"{point.name}"}}},rangeSelector:{buttonTheme:{fill:"white",stroke:"#C0C0C8","stroke-width":1,states:{select:{fill:"#D0D0D8"}}}},scrollbar:{trackBorderColor:"#C0C0C8"}},title:{text:"Symbols"}}}]),angular.module("inspinia").controller("VennCtrl",["$scope","$http","$rootScope",function(t,e,i){t.loadData=function(n){e.get("getDataFromFile?file="+n).success(function(e){e=e.data;var n=[{sets:["Mainland_FX"],size:e.China_FX_FC_SC_TU[0].China_FX},{sets:["Mainland_FC"],size:e.China_FX_FC_SC_TU[0].China_FC},{sets:["Mainland_SC"],size:e.China_FX_FC_SC_TU[0].China_SC},{sets:["Mainland_FX","Mainland_FC"],size:e.China_FX_FC_SC_TU[0].China_FX_FC},{sets:["Mainland_FX","Mainland_SC"],size:e.China_FX_FC_SC_TU[0].China_FX_SC},{sets:["Mainland_FC","Mainland_SC"],size:e.China_FX_FC_SC_TU[0].China_FC_SC},{sets:["Mainland_FX","Mainland_FC","Mainland_SC"],size:e.China_FX_FC_SC_TU[0].China_FX_FC_SC}];i.overlapUsers=e.China_FX_FC_SC_TU[0].China_FX_FC_SC,t.vennData=n,setTimeout(function(){var t=d3.select("#venn"),e=d3.select("body").append("div").attr("class","venntooltip");t.selectAll("g").on("mouseover",function(i){venn.sortAreas(t,i),e.transition().duration(400).style("opacity",.9),e.text(i.size+" users");var n=d3.select(this).transition("tooltip").duration(400);n.select("path").style("stroke-width",3).style("fill-opacity",1==i.sets.length?.4:.1).style("stroke-opacity",1)}).on("mousemove",function(){e.style("left",d3.event.pageX+"px").style("top",d3.event.pageY-28+"px")}).on("mouseout",function(t){e.transition().duration(400).style("opacity",0);var i=d3.select(this).transition("tooltip").duration(400);i.select("path").style("stroke-width",0).style("fill-opacity",1==t.sets.length?.25:0).style("stroke-opacity",0)})},300)})}}]),angular.module("inspinia").controller("ChartPieCtrl",["$scope","$http","$rootScope",function(t,e){t.loadData=function(){e.get("getChannelDist?db=CN").success(function(e){var i=[];for(var n in e)i.push({name:e[n].channel,y:Math.abs(e[n].count)});t.chartPieConfig.series=[],t.chartPieConfig.series.push({type:"pie",name:"China Download Channel Distubution",data:i,pointPlacement:"on"})})},t.chartPieConfig={options:{colors:["#1ab394","#90ee7e","#f45b5b","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",style:{fontFamily:"'Unica One', sans-serif"},legend:{enabled:!0},plotBorderColor:"#606063",type:"pie",options3d:{enabled:!0,alpha:45,beta:0}},tooltip:{pointFormat:"Registration:  {point.percentage:.1f} %"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",depth:35,dataLabels:{enabled:!0,format:"{point.name}"}}},rangeSelector:{buttonTheme:{fill:"white",stroke:"#C0C0C8","stroke-width":1,states:{select:{fill:"#D0D0D8"}}}},scrollbar:{trackBorderColor:"#C0C0C8"}}}}]),angular.module("inspinia").controller("ChartCtrl",["$scope","$http","$rootScope",function(t,e,i){t.$on("changeSelector",function(t,e){console.info(e)}),i.TotalGlobalTrendObj={},i.TotalChinaTrendObj={},t.loadData=function(n){e.get("getDataFromFile?file="+n).success(function(e){e=e.data;var a=n.split("|");t.chartConfig.series=[];for(var o=0;o<a.length;o++){for(var s=[],r=0;r<e[a[o]].length;r++)s.push([Date.parse(e[a[o]][r].date),parseInt(e[a[o]][r][t.valueName])]);"All"==i.roleRegion?t.chartConfig.series.push({type:"area",name:t[a[o]],data:s}):"CN"==i.roleRegion&&(a[o].indexOf("China")>=0||a[o].indexOf("Overlap")>=0)?t.chartConfig.series.push({type:"area",name:t[a[o]],data:s}):"CN"!=i.roleRegion&&a[o].indexOf("Global")>=0&&t.chartConfig.series.push({type:"area",name:t[a[o]],data:s})}if("Date_TU_Global|Date_TU_China"==n){var l=e.Date_TU_Global,c=e.Date_TU_China;i.totalUsersChina=parseInt(c[c.length-1][t.valueName]),i.totalUsersGlobal=parseInt(l[l.length-1][t.valueName])}})},t.chartConfig={options:{},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b. %e",year:"%b"},title:{text:"Date"}},yAxis:{title:{text:"Users"},min:0},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},legend:{enabled:!0},plotOptions:{area:{color:"#0038ff",marker:{enabled:null},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},credits:{enabled:!1},series:t.chartSeries}}]),angular.module("inspinia").controller("ChartComLineCtrl",["$scope","$http",function(t,e){t.loadData=function(i){e.get("getDataFromFile?file="+i).success(function(e){e=e.data;var i=[],n=[],a={};a={Others:0};for(var o={},s=0;s<e.Global_Country_TU.length&&5>s;s++)i.push(e.Global_Country_TU[s]),n.push(e.Global_Country_TU[s].Country),a[e.Global_Country_TU[s].Country]=0;for(var s=0;s<e.Date_Global_Country_TU.length;s++)if(n.indexOf(e.Date_Global_Country_TU[s].country)>=0){"TW"==e.Date_Global_Country_TU[s].country&&console.info(e.Date_Global_Country_TU[s]);var r=a[e.Date_Global_Country_TU[s].country]+parseInt(e.Date_Global_Country_TU[s]["Total Users"]);a[e.Date_Global_Country_TU[s].country]=r;var l=[Date.parse(e.Date_Global_Country_TU[s].date),r];o[e.Date_Global_Country_TU[s].country]&&o[e.Date_Global_Country_TU[s].country].length>0?o[e.Date_Global_Country_TU[s].country].push(l):(o[e.Date_Global_Country_TU[s].country]=[],o[e.Date_Global_Country_TU[s].country].push(l))}else{var r=a.Others+parseInt(e.Date_Global_Country_TU[s]["Total Users"]);a.Others=r;var l=[Date.parse(e.Date_Global_Country_TU[s].date),r];o.Others&&o.Others.length>0?o.Others.push(l):(o.Others=[],o.Others.push(l))}var c=[];n.push("Others");for(var d in n)c.push({name:n[d],data:o[n[d]]});t.chartConfig.series=c})},t.chartConfig={chart:{backgroundColor:null,zoomType:"x"},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b. %e",year:"%b"},title:{text:"Date"}},yAxis:{title:{text:"Users"},min:0},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},legend:{enabled:!0},plotOptions:{area:{color:"#0038ff",marker:{enabled:null},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},credits:{enabled:!1},series:t.chartSeries}}]),angular.module("inspinia").controller("ChartAreaCtrl",["$scope","$http","$rootScope",function(t,e,i){i.activeGlobalTrendObj={},i.activeChinaTrendObj={},t.loadData=function(i){e.get("getDataFromFile?file="+i).success(function(e){e=e.data;var n=i.split("|");t.chartConfig.series=[];for(var a=0;a<n.length;a++){for(var o=[],s=0;s<e[n[a]].length;s++)o.push([Date.parse(e[n[a]][s].date),parseInt(e[n[a]][s][t.valueName])]);t.chartConfig.series.push({type:"area",name:t[n[a]],data:o})}})},t.chartConfig={options:{chart:{backgroundColor:null,zoomType:"x"},plotOptions:{area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,Highcharts.getOptions().colors[0]],[1,Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get("rgba")]]},marker:{radius:2},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}}},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b. %e",year:"%b"},title:{text:"Date"}},yAxis:{title:{text:"Users"},min:0},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},legend:{enabled:!0},plotOptions:{area:{color:"#0038ff",marker:{enabled:null},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null}},credits:{enabled:!1},series:t.chartSeries}}]),angular.module("inspinia").controller("ChartActiveCtrl",["$scope","$http","$rootScope",function(t,e,i){t.loadData=function(){e.get("getActiveUserPer").success(function(e){for(var n=[],a=[],o=0;o<e.global.length;o++)n.push([Date.parse(e.global[o].date),e.global[o].Percentage]);for(var o=0;o<e.china.length;o++)a.push([Date.parse(e.china[o].date),e.china[o].Percentage]);"All"==i.roleRegion?t.chartConfig.series=[{type:"area",name:"Mainland %",data:a},{type:"area",name:"Overseas %",data:n}]:"CN"==i.roleRegion?t.chartConfig.series=[{type:"area",name:"Mainland %",data:a}]:"CN"!=i.roleRegion&&(t.chartConfig.series=[{type:"area",name:"Overseas %",data:n}])})},t.chartConfig={options:{colors:["#1ab394","#127E68"],chart:{backgroundColor:null,zoomType:"x"},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} %"}},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b. %e",year:"%b"},title:{text:"Date"},floor:Date.UTC(2015,4,17)},yAxis:{title:{text:"Active Users%"},min:0},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.f} users"},legend:{enabled:!0},credits:{enabled:!1},series:t.chartSeries}}]),angular.module("inspinia").controller("BoxCtrl",["$scope","$http","$rootScope","$filter","$cookieStore",function(t,e,i,n,a){i.lastUpdate=moment().subtract(1,"days").format("YYYY-MM-DD");var o=moment().subtract(2,"days").format("YYYY-MM-DD");
t.loadContestCount=function(){e.get("getContestCount").success(function(e){t.contentCount=e[0].count}),e.get("getStatFromFile?date="+i.lastUpdate+"&oldDate="+o).success(function(e){t.stats=e}),e.get("getCoreUserTotal?app=FX&db=TW").success(function(e){t.cuGlobal=e.length}),e.get("getCoreUserTotal?app=FX&db=CN").success(function(e){t.cuChinaFX=e.length}),e.get("getCoreUserTotal?app=FC&db=CN").success(function(e){t.cuChinaFC=e.length}),e.get("getCoreUserTotal?app=SC&db=CN").success(function(e){t.cuChinaSC=e.length})},i.logout=function(){a.remove("connect.sid"),location.href="logout"}}]),angular.module("inspinia").controller("StatCrol",["$scope","$http",function(t,e){t.devices=[{name:"全部平台",type:"all"},{name:"安卓（Android）",type:"android"},{name:"苹果（iPhone）",type:"iphone"}],t.channels=[{channel:"全部渠道",type:"all"},{channel:"APPLE_STORE",count:37150},{channel:"360zs1",count:142},{channel:"360zs3",count:25},{channel:"360zs4",count:1218},{channel:"360zs5",count:634},{channel:"360zs6",count:512},{channel:"900",count:365},{channel:"A360",count:1979},{channel:"BAIDU",count:2456},{channel:"CN",count:1854},{channel:"Dianku",count:16069},{channel:"douguo",count:2987},{channel:"duiba30m",count:1},{channel:"GETUI",count:1396},{channel:"GOOGLE",count:388},{channel:"Hongbao",count:11718},{channel:"HUAWEI",count:2954},{channel:"Hui",count:2772},{channel:"jrtoutiao",count:219},{channel:"jrtoutiao_page",count:183},{channel:"kuaihu",count:85},{channel:"LENOVO",count:46},{channel:"MEIZU",count:765},{channel:"MI",count:6589},{channel:"mofang",count:6},{channel:"P360",count:3},{channel:"QQ",count:7489},{channel:"TUIGUANG1",count:2657},{channel:"TUIGUANG2",count:4303},{channel:"TUIGUANG3",count:2921},{channel:"TUIGUANG4",count:304},{channel:"Vivo",count:2176},{channel:"WANDO",count:2829},{channel:"weixin",count:416},{channel:"weixintg",count:1},{channel:"yiyou",count:225},{channel:"zhihuitui",count:48},{channel:"zhihuitui1",count:1},{channel:"zhihuitui2",count:2},{channel:"zhihuitui3",count:5},{channel:"zhuoyi",count:479}],t.deviceSelected=t.devices[0],t.channelSelected=t.channels[0],t.dailyTypes=[],t.init=function(){e.get("getStatFolder?type=daily/").success(function(i){var n=[];for(var a in i)n.push({name:"日报 - "+i[a],date:i[a],type:"daily"});t.dailyTypes=n,t.dateSelected=t.dailyTypes[n.length-1],t.changeFilter(),e.get("getStatFolder?type=weekly/").success(function(e){var i=[];for(var n in e)i.push({name:"周报 - "+e[n],date:e[n],type:"weekly"});t.dailyTypes=t.dailyTypes.concat(i)}),e.get("getStatFolder?type=monthly/").success(function(e){var i=[];for(var n in e)i.push({name:"月报 - "+e[n],date:e[n],type:"monthly"});t.dailyTypes=t.dailyTypes.concat(i)})})},t.loadDailyTrend=function(e){t.chartEffConfig.series=[];var i=[["2016-06-07",parseInt(50*Math.random())],["2016-06-08",parseInt(43*Math.random())],["2016-06-09",parseInt(12*Math.random())],["2016-06-10",parseInt(100*Math.random())],["2016-06-11",parseInt(23*Math.random())]];t.chartDailyConfig.series.push({type:"line",name:e,data:i})},t.changeFilter=function(){t.stat={};var i=t.channelSelected.type||t.channelSelected.channel,n="getStatDataFromFile?file="+t.dateSelected.type+"/"+t.dateSelected.date+"/"+t.deviceSelected.type+"_"+i;t.downLoadUrl=n+"&format=csv",e.get("getStatDailyFromFile?file="+t.dateSelected.date).success(function(e){t.statList=e}),e.get(n).success(function(e){t.stat=e,console.info(e)})},t.chartDailyConfig={options:{colors:["#A5E6C0"],chart:{backgroundColor:"rgba(255, 255, 255, 0.1)",zoomType:"x"},legend:{enabled:!0},xAxis:{labels:{formatter:function(){return""}}}},title:{text:""},credits:{enabled:!1}}}]),$(document).ready(function(){function t(){var t=$("body > #wrapper").height()-61;$(".sidebard-panel").css("min-height",t+"px");var e=$("nav.navbar-default").height(),i=$("#page-wrapper").height();e>i&&$("#page-wrapper").css("min-height",e+"px"),i>e&&$("#page-wrapper").css("min-height",$(window).height()+"px"),$("body").hasClass("fixed-nav")&&$("#page-wrapper").css("min-height",$(window).height()-60+"px")}$(window).bind("load resize scroll",function(){$("body").hasClass("body-small")||t()}),setTimeout(function(){t()})}),$(function(){$(window).bind("load resize",function(){$(this).width()<769?$("body").addClass("body-small"):$("body").removeClass("body-small")})}),angular.module("inspinia").directive("sideNavigation",["$timeout",function(t){return{restrict:"A",link:function(e,i){e.$watch("authentication.user",function(){t(function(){i.metisMenu()})})}}}]).directive("minimalizaSidebar",["$timeout",function(t){return{restrict:"A",template:'<a class="navbar-minimalize minimalize-styl-2 btn btn-primary " href="" ng-init="minimalize()" ng-click="minimalize()"><i class="fa fa-bars"></i></a>',controller:["$scope","$element",function(e){e.minimalize=function(){$(window).width()>=600?angular.element("body").toggleClass("mini-navbar"):angular.element("body").hasClass("body-small")&&angular.element("body").toggleClass("mini-navbar"),!angular.element("body").hasClass("mini-navbar")||angular.element("body").hasClass("body-small")?(angular.element("#side-menu").hide(),t(function(){angular.element("#side-menu").fadeIn(500)},100)):angular.element("#side-menu").removeAttr("style")}}]}}]),angular.module("inspinia").run(["$templateCache",function(t){t.put("app/main/main.html",'<div class="wrapper wrapper-content animated fadeInRight" ng-hide="$root.dashboardShow"><h3>Redirecting ...</h3></div><div class="wrapper wrapper-content animated fadeInRight" ng-if="$root.dashboardShow"><div ng-include="\'components/box/sumbox.html\'" ng-if="$root.roleRegion ==\'All\'"></div><div class="row chartPanel"><div ng-include="\'components/chart/chart_tu.html\'"></div></div><div class="row chartPanel" ng-if="$root.roleRegion ==\'All\'"><div ng-include="\'components/map/map.html\'"></div><div ng-include="\'components/chart/chart_global_dist.html\'"></div></div><div class="row chartPanel" ng-if="$root.roleRegion ==\'CN\' || $root.roleRegion ==\'All\'"><div ng-include="\'components/chart/chart_fx_fc_sc.html\'"></div><div ng-include="\'components/chart/china_channel_dist.html\'"></div></div><div class="row chartPanel" ng-if="$root.roleRegion ==\'CN\' || $root.roleRegion ==\'All\'"><div ng-include="\'components/chart/overlap.html\'"></div><div ng-include="\'components/chart/venn.html\'"></div></div><div ng-controller="TabsDemoCtrl" class="tab-bar"><tabset><tab heading="Mainland" ng-click="click()" ng-if="$root.roleRegion ==\'CN\' || $root.roleRegion ==\'All\'"><div class="row chartPanel"><div ng-include="\'components/chart/chart_cn_nu.html\'"></div></div></tab><tab heading="Taiwan" ng-click="click()" ng-if="$root.roleRegion !=\'CN\' || $root.roleRegion ==\'All\'"><div class="row chartPanel"><div ng-include="\'components/chart/chart_tw_nu.html\'"></div></div></tab><tab heading="Others Region" ng-click="click()" ng-if="$root.roleRegion !=\'CN\' || $root.roleRegion ==\'All\'"><div class="row chartPanel"><div ng-include="\'components/chart/chart_gb_nu.html\'"></div></div></tab></tabset></div><div ng-controller="TabsDemoCtrl" class="tab-bar"><tabset><tab heading="Mainland FX" ng-click="click()" ng-if="$root.roleRegion ==\'CN\' || $root.roleRegion ==\'All\'"><div class="row chartPanel"><div ng-include="\'components/chart/chart_cn_au_fx.html\'"></div></div></tab><tab heading="Mainland FC" ng-click="click()" ng-if="$root.roleRegion ==\'CN\' || $root.roleRegion ==\'All\'"><div class="row chartPanel"><div ng-include="\'components/chart/chart_cn_au_fc.html\'"></div></div></tab><tab heading="Mainland SC" ng-click="click()" ng-if="$root.roleRegion ==\'CN\' || $root.roleRegion ==\'All\'"><div class="row chartPanel"><div ng-include="\'components/chart/chart_cn_au_sc.html\'"></div></div></tab><tab heading="Taiwan" ng-click="click()" ng-if="$root.roleRegion !=\'CN\' || $root.roleRegion ==\'All\'"><div class="row chartPanel"><div ng-include="\'components/chart/chart_tw_au.html\'"></div></div></tab><tab heading="Hong Kong" ng-click="click()" ng-if="$root.roleRegion !=\'CN\' || $root.roleRegion ==\'All\'"><div class="row chartPanel"><div ng-include="\'components/chart/chart_hk_au.html\'"></div></div></tab><tab heading="Others Region" ng-click="click()" ng-if="$root.roleRegion !=\'CN\' || $root.roleRegion ==\'All\'"><div class="row chartPanel"><div ng-include="\'components/chart/chart_gb_au.html\'"></div></div></tab></tabset></div></div>'),t.put("app/public/show.html",'<div class="wrapper wrapper-content animated fadeInRight"><div class="row chartPanel" ng-if="$root.roleRegion ==\'All\'"><div ng-include="\'components/map/map.html\'"></div></div></div>'),t.put("components/advanced/stat.html",'<div class="wrapper wrapper-content animated fadeInRight" ng-controller="StatCrol" ng-init="init()"><div class="row"><div class="col-lg-3"><select class="input-sm form-control input-s-sm inline product-option" ng-options="date.name for date in dailyTypes" ng-model="dateSelected" ng-change="changeFilter()"></select></div><div class="col-lg-3"><select class="input-sm form-control input-s-sm inline product-option" ng-options="device.name for device in devices" ng-model="deviceSelected" ng-change="changeFilter()"></select></div><div class="col-lg-3"><select class="input-sm form-control input-s-sm inline product-option" ng-options="channel.channel for channel in channels" ng-model="channelSelected" ng-change="changeFilter()"></select></div></div><div class="ibox float-e-margins"><div class="ibox-title"><h5>渠道統計</h5><div class="ibox-tools"></div></div><div class="ibox-content"><div class="table-responsive"><table class="table table-striped" st-table="statDisplayed" st-safe-src="statList"><thead><tr><th colspan="10"><div class="input-group"><input st-search="name" placeholder="搜索渠道" type="text"> <span class="input-group-btn"></span></div></th><th colspan="3"><select style="width:60%" class="input-sm form-control input-s-sm inline product-option" ng-options="date.name for date in dailyTypes" ng-model="dateSelected" ng-change="changeFilter()"></select><a href="{{downLoadUrl}}" type="button" class="btn btn-primary dim ng-click-active" style="width: 40px;height: 28px;padding: 1px 0 5px 0;font-size: 15px; margin-top: 5px; margin-left: 10px;"><i class="fa fa-cloud-download"></i></a></th></tr><tr><th>渠道名称</th><th st-sort="stat.channel_atv_1d" st-sort-default="reverse">激活用户数</th><th st-sort="stat.atv_ratio">激活用户数环比</th><th st-sort="stat.channel_reg_1d">注册用户数</th><th st-sort="stat.reg_ratio">注册用户数环比</th><th st-sort="stat.channel_login_1d">活跃用户数</th><th st-sort="stat.login_ratio">活跃用户数环比</th><th st-sort="stat.channel_old_login_1d">次日留存用户数</th><th st-sort="stat.old_login_ratio">次日留存用户环比</th><th st-sort="stat.channel_trade_1d">交易用户数</th><th st-sort="stat.trade_ratio">交易用户数环比</th><th st-sort="stat.channel_contest_1d">比赛用户数</th><th st-sort="stat.contest_ratio">比赛用户数环比</th></tr></thead><tbody><tr ng-repeat="s in statDisplayed"><td><a href="" ng-click="loadDailyTrend(s.name)">{{s.name.slice(0,-5).split("_")[1]}}</a></td><td>{{s.stat.channel_atv_1d}}</td><td>{{s.stat.atv_ratio|number:2 }} %</td><td>{{s.stat.channel_reg_1d}}</td><td>{{s.stat.reg_ratio |number:2}} %</td><td>{{s.stat.channel_login_1d}}</td><td>{{s.stat.login_ratio |number:2}} %</td><td>{{s.stat.channel_old_login_1d}}</td><td>{{s.stat.old_login_ratio |number:2}} %</td><td>{{s.stat.channel_trade_1d}}</td><td>{{s.stat.trade_ratio |number:2}} %</td><td>{{s.stat.channel_contest_1d}}</td><td>{{s.stat.contest_ratio |number:2}} %</td></tr></tbody><tfoot><tr><td colspan="5" class="text-center"><div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div></td></tr></tfoot></table></div></div></div><div class="row"><div class="col-lg-4"><table class="table small m-b-xs accounts-table"><tbody><tr><td><strong>{{stat.channel_atv_1d}}</strong><div>激活用户数</div></td><td><strong>{{stat.atv_ratio|number:2 }} %</strong><div>激活用户数环比</div></td></tr><tr><td><strong>{{stat.channel_reg_1d}}</strong><div>注册用户数</div></td><td><strong>{{stat.reg_ratio |number:2}} %</strong><div>注册用户数环比</div></td></tr><tr><td><strong>{{stat.channel_login_1d}}</strong><div>活跃用户数</div></td><td><strong>{{stat.login_ratio |number:2}} %</strong><div>活跃用户数环比</div></td></tr><tr><td><strong>{{stat.channel_old_login_1d}}</strong><div>次日留存用户数</div></td><td><strong>{{stat.old_login_ratio |number:2}} %</strong><div>次日留存用户环比</div></td></tr><tr><td><strong>{{stat.channel_trade_1d}}</strong><div>交易用户数</div></td><td><strong>{{stat.trade_ratio |number:2}} %</strong><div>交易用户数环比</div></td></tr><tr><td><strong>{{stat.channel_contest_1d}}</strong><div>比赛用户数</div></td><td><strong>{{stat.contest_ratio |number:2}} %</strong><div>比赛用户数环比</div></td></tr></tbody></table></div><div class="col-lg-8"><highchart config="chartDailyConfig" class="trader-chart"></highchart></div></div></div>'),t.put("components/box/sumbox.html",'<div class="row" ng-controller="BoxCtrl"><div class="col-lg-2"><div class="ibox float-e-margins"><div class="ibox-title"><span class="label label-success pull-right">All Apps</span><h5>Total Users</h5></div><div class="ibox-content"><h1 class="no-margins" ng-bind="(stats.totalUser|number)">0</h1><small>Users</small></div></div></div><div class="col-lg-2"><a href="#/index/core"><div class="ibox float-e-margins"><div class="ibox-title"><h5>Mainland</h5></div><div class="ibox-content"><h1 class="no-margins" ng-bind="((cuChinaFX + cuChinaFC + cuChinaSC)|number)"><i class="fa fa-spinner fa-spin"></i></h1><small>Core Users</small> <span class="stat-percent font-bold text-success ng-binding" ng-bind="((cuChinaFX + $cuChinaFC + cuChinaSC)/ ($root.totalUsersChina) * 100|number:2) + \'%\'"></span></div></div></a></div><div class="col-lg-2"><a href="#/index/core"><div class="ibox float-e-margins"><div class="ibox-title"><h5>Overseas</h5></div><div class="ibox-content"><h1 class="no-margins" ng-bind="(cuGlobal|number)"><i class="fa fa-spinner fa-spin"></i></h1><small>Core Users</small> <span class="stat-percent font-bold text-success ng-binding" ng-bind="(cuGlobal/ ($root.totalUsersGlobal) * 100|number:2) + \'%\'"></span></div></div></a></div><div class="col-lg-2"><div class="ibox float-e-margins"><div class="ibox-title"><span class="label label-info pull-right">Daily</span><h5>Active User</h5></div><div class="ibox-content"><h1 class="no-margins" ng-bind="(stats.activeUser |number) || \'Calculating...\'">0</h1><span class="stat-percent font-bold text-success" ng-bind="(stats.activePer|number:2) + \'%\'"></span> <span class="font-bold" ng-class="stats.activeTrend > 0?\'text-danger\':\'text-navy\'">{{stats.activeTrend|number:2}}% <i class="fa" ng-class="stats.activeTrend > 0?\'fa-level-up\':\'fa-level-down\'"></i></span></div></div></div><div class="col-lg-2"><div class="ibox float-e-margins"><div class="ibox-title"><span class="label label-primary pull-right">Daily</span><h5>New Users</h5></div><div class="ibox-content"><h1 class="no-margins" ng-bind="(stats.newUser|number) || \'Calculating...\'">0</h1><span class="stat-percent font-bold text-navy" ng-bind="(stats.newPer |number:2) + \'%\'"><i class="fa fa-bolt"></i></span> <span class="font-bold" ng-class="stats.newTrend >0?\'text-danger\':\'text-navy\'">{{stats.newTrend |number:2}}% <i class="fa" ng-class="stats.newTrend >0?\'fa-level-up\':\'fa-level-down\'"></i></span></div></div></div><div class="col-lg-2"><div class="ibox float-e-margins"><div class="ibox-title"><span class="label label-danger pull-right">Overseas</span><h5>Contest</h5></div><div class="ibox-content"><h1 class="no-margins" ng-init="loadContestCount()" ng-bind="(contentCount |number)">0</h1><small>Contests Held</small></div></div></div></div>'),t.put("components/chart/chart_cn_au_fc.html",'<div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Date_AU_China_FC\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Daily Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Mainland\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Date_AU_China_FC=\'Mainland Daily Active Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Week_AU_China_FC\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Weekly Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Mainland\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Week_AU_China_FC=\'Mainland Weekly Active Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Month_AU_China_FC\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Monthly Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Mainland\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Month_AU_China_FC=\'Mainland Monthly Active Users\'"></div>'),t.put("components/chart/chart_cn_au_fx.html",'<div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Date_AU_China_FX\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Daily Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Mainland\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Date_AU_China_FX=\'Mainland Daily Active Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Week_AU_China_FX\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Weekly Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Mainland\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Week_AU_China_FX=\'Mainland Weekly Active Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Month_AU_China_FX\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Monthly Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Mainland\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Month_AU_China_FX=\'Mainland Monthly Active Users\'"></div>'),t.put("components/chart/chart_cn_au_sc.html",'<div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Date_AU_China_SC\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Daily Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Mainland\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Date_AU_China_SC=\'Mainland Daily Active Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Week_AU_China_SC\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Weekly Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Mainland\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Week_AU_China_SC=\'Mainland Weekly Active Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Month_AU_China_SC\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Monthly Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Mainland\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Month_AU_China_SC=\'Mainland Monthly Active Users\'"></div>'),t.put("components/chart/chart_cn_nu.html",'<div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Date_NU_China\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Daily New Users\'"> <input type="hidden" ng-init="valueName=\'New Users\'"> <input type="hidden" ng-init="Date_NU_China=\'Mainland Daily New Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Week_NU_China\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Weekly New Users\'"> <input type="hidden" ng-init="valueName=\'New Users\'"> <input type="hidden" ng-init="Week_NU_China=\'Mainland Weekly New Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Month_NU_China\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Monthly New Users\'"> <input type="hidden" ng-init="valueName=\'New Users\'"> <input type="hidden" ng-init="Month_NU_China=\'Mainland Monthly New Users\'"></div>'),t.put("components/chart/chart_fx_fc_sc.html",'<div class="col-md-6" ng-controller="ChartCtrl"><highchart ng-init="loadData(\'Date_TU_China_FX|Date_TU_China_FC|Date_TU_China_SC\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Mainland FX FC SC\'"> <input type="hidden" ng-init="valueName=\'Total Users\'"> <input type="hidden" ng-init="Date_TU_China_FX=\'Mainland FX\'"> <input type="hidden" ng-init="Date_TU_China_FC=\'Mainland FC\'"> <input type="hidden" ng-init="Date_TU_China_SC=\'Mainland SC\'"></div>'),t.put("components/chart/chart_gb_au.html",'<div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Date_AU_Global_FX\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Daily Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Overseas\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Date_AU_Global_FX=\'Overseas Daily Active Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Week_AU_Global_FX\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Weekly Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Overseas\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Week_AU_Global_FX=\'Overseas Weekly Active Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Month_AU_Global_FX\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Monthly Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Overseas\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Month_AU_Global_FX=\'Overseas Monthly Active Users\'"></div>'),t.put("components/chart/chart_gb_nu.html",'<div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Date_NU_Global\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Daily New Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Overseas\'"> <input type="hidden" ng-init="valueName=\'New Users\'"> <input type="hidden" ng-init="Date_NU_Global=\'Overseas Daily New Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Week_NU_Global\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Weekly New Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Overseas\'"> <input type="hidden" ng-init="valueName=\'New Users\'"> <input type="hidden" ng-init="Week_NU_Global=\'Overseas Weekly New Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Month_NU_Global\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Monthly New Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Overseas\'"> <input type="hidden" ng-init="valueName=\'New Users\'"> <input type="hidden" ng-init="Month_NU_Global=\'Overseas Monthly New Users\'"></div>'),t.put("components/chart/chart_global_dist.html",'<div ng-controller="ChartComLineCtrl"><div class="col-md-6"><highchart ng-init="loadData(\'Date_Global_Country_TU|Global_Country_TU\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Global Distribution\'"></div></div>'),t.put("components/chart/chart_hk_au.html",'<div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Date_AU_HK_FX\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Daily Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Hong Kong\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Date_AU_HK_FX=\'Hong Kong Daily Active Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Week_AU_HK_FX\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Weekly Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Hong Kong\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Week_AU_HK_FX=\'Hong Kong Weekly Active Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Month_AU_HK_FX\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Monthly Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Hong Kong\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Month_AU_HK_FX=\'Hong Kong Monthly Active Users\'"></div>'),t.put("components/chart/chart_tu.html",'<div class="row"><div class="col-lg-6" ng-controller="ChartCtrl"><highchart ng-init="loadData(\'Date_TU_Global|Date_TU_China\')" config="chartConfig" class="span9"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Total User Growth\'"> <input type="hidden" ng-init="valueName=\'Total Users\'"> <input type="hidden" ng-init="Date_TU_Global=\'Overseas\'"> <input type="hidden" ng-init="Date_TU_China=\'Mainland\'"> <input type="hidden" ng-init="chartType=\'area\'"> <input type="hidden" ng-init="chartConfig.colors=[\'#0000ff\',\'ff0066\',\'2b908f\']"></div><div class="col-lg-6" ng-controller="ChartActiveCtrl"><highchart ng-init="loadData()" config="chartConfig" class="span9"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Active User Percentage\'"></div></div>'),t.put("components/chart/chart_tw_au.html",'<div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Date_AU_TW_FX\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Daily Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Taiwan\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Date_AU_TW_FX=\'Taiwan Daily Active Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Week_AU_TW_FX\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Weekly Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Taiwan\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Week_AU_TW_FX=\'Taiwan Weekly Active Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Month_AU_TW_FX\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Monthly Active Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Taiwan\'"> <input type="hidden" ng-init="valueName=\'Active Users\'"> <input type="hidden" ng-init="Month_AU_TW_FX=\'Taiwan Monthly Active Users\'"></div>'),t.put("components/chart/chart_tw_nu.html",'<div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Date_NU_TW\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Daily New Users\'"> <input type="hidden" ng-init="valueName=\'New Users\'"> <input type="hidden" ng-init="Date_NU_TW=\'TW Daily New Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Week_NU_TW\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Weekly New Users\'"> <input type="hidden" ng-init="valueName=\'New Users\'"> <input type="hidden" ng-init="Week_NU_TW=\'TW Weekly New Users\'"></div><div class="col-md-4" ng-controller="ChartAreaCtrl"><highchart ng-init="loadData(\'Month_NU_TW\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'Monthly New Users\'"> <input type="hidden" ng-init="valueName=\'New Users\'"> <input type="hidden" ng-init="Month_NU_TW=\'TW Monthly New Users\'"></div>'),t.put("components/chart/china_channel_dist.html",'<div class="col-md-6" ng-controller="ChartPieCtrl"><highchart ng-init="loadData()" config="chartPieConfig"></highchart><input type="hidden" ng-init="chartPieConfig.title.text=\'China Download Channel Distubution\'"></div>'),t.put("components/chart/overlap.html",'<div class="col-md-6" ng-controller="ChartCtrl"><highchart ng-init="loadData(\'FX_FC_Overlap|FX_SC_Overlap|FC_SC_Overlap|FX_FC_SC_Overlap\')" config="chartConfig"></highchart><input type="hidden" ng-init="chartConfig.title.text=\'FX FC SC Users\'"> <input type="hidden" ng-init="chartConfig.subtitle.text=\'Overlaping Users\'"> <input type="hidden" ng-init="valueName=\'Common Users\'"> <input type="hidden" ng-init="FX_FC_Overlap=\'FX&FC\'"> <input type="hidden" ng-init="FX_SC_Overlap=\'FX&SC\'"> <input type="hidden" ng-init="FC_SC_Overlap=\'FC&SC\'"> <input type="hidden" ng-init="FX_FC_SC_Overlap=\'FX&FC&SC\'"></div>'),t.put("components/chart/venn.html",'<div class="col-md-6 venn-panel" ng-controller="VennCtrl"><div id="venn" venn="vennData" ng-init="loadData(\'China_FX_FC_SC_TU\')"></div></div>'),t.put("components/common/content.html",'<div id="wrapper"><div ng-include="\'components/common/navigation.html\'"></div><div id="page-wrapper" class="gray-bg {{$state.current.name}}"><div ng-include="\'components/common/topnavbar.html\'"></div><div ui-view=""></div><div ng-include="\'components/common/footer.html\'"></div></div></div>'),t.put("components/common/footer.html",'<div class="footer"><div class="pull-right">FDT Dashboard v1.0</div><div><strong>Copyright</strong> FDT &copy; 2016</div></div>'),t.put("components/common/ibox_tools.html",'<div class="ibox-tools dropdown" dropdown=""><a ng-click="showhide()"><i class="fa fa-chevron-up"></i></a> <a class="dropdown-toggle" href="" dropdown-toggle=""><i class="fa fa-wrench"></i></a><ul class="dropdown-menu dropdown-user"><li><a href="">Config option 1</a></li><li><a href="">Config option 2</a></li></ul><a ng-click="closebox()"><i class="fa fa-times"></i></a></div>'),t.put("components/common/navigation.html",'<nav class="navbar-default navbar-static-side" role="navigation"><div class="sidebar-collapse"><ul side-navigation="" class="nav metismenu" id="side-menu"><li class="nav-header"><div class="dropdown profile-element open"><span><img alt="image" style="width:80px" src="assets/images/fdt_bull.png"></span> <a data-toggle="dropdown" class="dropdown-toggle" href="#" aria-expanded="false"><span class="clear"><span class="block m-t-xs"><strong class="font-bold">{{$root.userNick}}</strong></span> <span class="text-muted text-xs block"><b class="caret"></b></span></span></a></div><div class="logo-element"><img alt="image" class="" src="assets/images/fdt_bull.png" style="width: 40px;"></div></li><li ui-sref-active="active" ng-if="$root.dashboardShow"><a ui-sref="index.main"><i class="fa fa-dashboard"></i> <span class="nav-label">Dashboard</span></a></li><li ui-sref-active="active" ng-if="$root.schoolShow"><a ui-sref="index.school"><i class="fa fa-graduation-cap"></i> <span class="nav-label">School</span></a></li><li ui-sref-active="active" ng-if="$root.simShow || $root.incuShow || $root.seedShow"><a ui-sref="index.search"><i class="fa fa-user"></i> <span class="nav-label">Users</span></a><ul class="nav nav-second-level collapse"><li><a ui-sref="index.search" ng-if="$root.simShow">Sim Users</a></li><li><a ui-sref="index.incu" ng-if="$root.incuShow">Incubatee</a></li><li><a ui-sref="index.seed" ng-if="$root.seedShow">Seed</a></li></ul></li><li ui-sref-active="active"><a ui-sref="index.user"><i class="fa fa-cube"></i> <span class="nav-label">FDT Score Ranking</span></a><ul class="nav nav-second-level collapse"><li><a ui-sref="index.user">FDT Score Ranking</a></li><li><a ui-sref="index.mt4users" ng-if="$root.seedShow">MT4 List</a></li></ul></li></ul></div></nav>'),t.put("components/common/topnavbar.html",'<div class="row border-bottom" ng-controller="BoxCtrl"><nav class="navbar navbar-static-top white-bg" role="navigation" style="margin-bottom: 0"><div class="navbar-header"><span minimaliza-sidebar=""></span><form role="search" class="navbar-form-custom" method="post" action=""><div class="form-group"><input type="text" placeholder="" class="form-control" name="top-search" id="top-search"></div></form></div><ul class="nav navbar-top-links navbar-right"><li><span class="m-r-sm text-muted welcome-message" ng-bind="\'Last Updated Time : \' + $root.lastUpdate"></span></li><li><i class="fa fa-user"></i> <span class="m-r-sm text-muted welcome-message" ng-bind="$root.userNick"></span></li><li><a href="#" ng-click="logout()"><i class="fa fa-sign-out"></i> Log out</a></li></ul></nav></div>'),t.put("components/incu/user_list.html",'<div class="wrapper wrapper-content animated fadeInRight" ng-hide="$root.incuShow"><h3>No access for this account</h3></div><div class="wrapper wrapper-content animated fadeInRight" ng-controller="IncUserListCrol" ng-if="$root.incuShow"><div class="row"><div class="col-lg-6"><div class="col-xs-8 text-left"><span>Daily Total P&L (including fee&commisions)</span><h1 class="font-bold">${{summaryObj.pnl | number:2}}</h1></div><div class="col-xs-4 text-left"><span>Daily Total QTY</span><h1 class="font-bold">{{summaryObj.qty | number}}</h1></div><div class="col-lg-12"><highchart config="chartPieConfig"></highchart></div></div><div class="col-lg-6"><div class="ibox float-e-margins"><div class="ibox-title"><h5>Daily Summary</h5><div class="ibox-tools"></div></div><div class="ibox-content"><div class="table-responsive"><table st-safe-src="summaryList" st-table="displayedSummary" class="table table-striped"><thead><tr><th>Trade Date</th><th>Symbol</th><th st-sort="ACCOUNT_VALUE" st-sort-default="reverse">QTY</th><th st-sort="PNL">P&L</th></tr></thead><tbody><tr ng-repeat="sum in displayedSummary"><td>{{sum["@TRADE_DATE"]}}</td><td>{{sum.SYMBOL}}</td><td>{{sum.QTY|number}}</td><td>{{sum.PNL|number:2}}</td></tr></tbody></table></div></div></div></div><div class="col-lg-12"><div class="ibox float-e-margins"><div class="ibox-title"><h5>Incubatee Daily Performance</h5><div class="ibox-tools" ng-if="$root.exportShow"><a type="button" class="btn btn-sm btn-primary" href="{{historyFilePath}}" download="{{historyFileName}}">Export</a></div></div><div class="ibox-content"><div class="table-responsive"><table st-safe-src="userList" st-table="displayed" class="table table-striped"><thead><tr><th colspan="5"><div class="input-group"><input st-search="USER_ID" class="form-control" placeholder="Search User ID ..." type="text"> <span class="input-group-btn"><button type="button" class="btn btn-sm btn-primary">Go!</button></span></div></th></tr><tr><th>Trade Date</th><th>User Id</th><th st-sort="ACCOUNT_VALUE" st-sort-default="reverse">Account Value</th><th st-sort="PNL">P&L</th><th st-sort="UR_PNL">UR_P&L</th><th st-sort="ALL_TIME_PNL">All Time P&L</th><th st-sort="SUMQTY">Total Qty</th><th st-sort="CNTQTY"># Filled</th><th st-sort="CASH">Cash</th><th st-sort="Ranking">Ranking</th><th st-sort="WinRatio">Win Ratio</th><th st-sort="BiggestWin">Biggest Win</th><th st-sort="BiggestLoss">Biggest Loss</th><th st-sort="AllTimeSharpRatio">All Time Sharp Ratio</th></tr></thead><tbody><tr ng-repeat="userInfo in displayed"><td>{{userInfo["@TRADE_DATE"]}}</td><td><a href="#/index/profile/{{userInfo.USER_ID}}/INC/FX">{{userInfo.USER_ID}}</a></td><td>{{userInfo.ACCOUNT_VALUE|number:2}}</td><td>{{userInfo.PNL|number:2}}</td><td>{{userInfo.UR_PNL|number:2}}</td><td>{{userInfo.ALL_TIME_PNL|number:2}}</td><td>{{userInfo.SUMQTY}}</td><td>{{userInfo.CNTQTY}}</td><td>{{userInfo.CASH|number:2}}</td><td>{{userInfo.Ranking}}</td><td>{{userInfo.WinRatio}}%</td><td>{{userInfo.BiggestWin|number:2}}</td><td>{{userInfo.BiggestLoss|number:2}}</td><td>{{userInfo.AllTimeSharpRatio|number:2}}</td></tr></tbody><tfoot><tr><td colspan="5" class="text-center"><div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div></td></tr></tfoot></table></div></div></div></div></div></div>'),t.put("components/map/map.html",'<div class="col-md-6 chartPanel" ng-controller="MapCtrl"><h3>Global Distribution on Map</h3><div id="map" map="" ng-init="data()"></div></div>'),t.put("components/school/contest.html",'<div class="col-lg-4" ng-controller="ContestCrol"><div class="ibox float-e-margins"><div class="ibox-title"><h5>School User In Contests</h5><div class="ibox-tools"><button type="button" class="btn btn-sm btn-primary">Export</button></div></div><div class="ibox-content"><div class="row"><div class="col-sm-3 m-b-xs"><select class="input-sm form-control input-s-sm inline product-option" ng-options="product.name for product in products" ng-model="selected" ng-change="changeProduct()"></select></div><div class="col-sm-3"></div></div><div class="table-responsive"><table class="table table-striped"><thead><tr><th class="hidden-xs">Contest Name</th><th class="hidden-xs"># Users</th></tr></thead><tbody><tr ng-repeat="contest in contestList"><td>{{contest.name}}</td><td>{{contest.count|number}}</td></tr></tbody></table></div></div></div></div>'),t.put("components/school/count.html",'<div class="col-lg-6 school-count-box"><div class="col-lg-3 text-center"><div class="widget style1"><div class="row"><i class="fa fa-user fa-3x"></i></div><div class="row"><span>Total Users</span><h2 class="font-bold" ng-bind="totalUser"></h2><span></span></div></div></div><div class="col-lg-9"><div class="row m-t-xs"><div class="col-xs-4"><h5 class="m-b-xs">Core Users 30 Days</h5><h1 class="no-margins" ng-bind-html="isChina?coreFX30 + coreSC30 + coreFC30:core30"></h1></div><div class="col-xs-4"><h5 class="m-b-xs">Weekly Active Users</h5><h1 class="no-margins">{{(weekUserFX + weekUserFC + weekUserSC)|number}}</h1></div><div class="col-xs-4"><h5 class="m-b-xs">Monthly Active Users</h5><h1 class="no-margins">{{(monthUserFX + monthUserFC + monthUserSC)|number}}</h1></div></div><table class="table small m-t-sm"><tbody><tr><td><i class="fa fa-key"></i> 60 Days <strong ng-bind-html="isChina?coreFX60 + coreSC60 + coreFC60:core60"></strong></td><td><i class="fa fa-money"></i> FX <strong ng-bind="weekUserFX"></strong></td><td><i class="fa fa-money"></i> FX <strong ng-bind="monthUserFX"></strong></td></tr><tr><td><i class="fa fa-key"></i> > 90 Days <strong ng-bind-html="isChina?coreFX90 + coreSC90 + coreFC90:core90"></strong></td><td ng-show="$root.regionSelected == \'CN\'"><i class="fa fa-line-chart"></i> FC <strong ng-bind="weekUserFC"></strong></td><td ng-show="$root.regionSelected == \'CN\'"><i class="fa fa-line-chart"></i> FC <strong ng-bind="monthUserFC"></strong></td></tr><tr ng-show="$root.regionSelected == \'CN\'"><td></td><td><i class="fa fa-bank"></i> SC <strong ng-bind="weekUserSC"></strong></td><td><i class="fa fa-bank"></i> SC <strong ng-bind="monthUserSC"></strong></td></tr></tbody></table></div></div>'),t.put("components/school/quant.html",'<div class="wrapper wrapper-content animated fadeInRight"><div class="row chartPanel" ng-controller="QuantCrol"><div class="col-lg-12"><highchart config="chartConfig"></highchart></div></div></div>'),t.put("components/school/school.html",'<div class="wrapper wrapper-content animated fadeInRight" ng-hide="$root.schoolShow"><h3>No access for this account</h3></div><div class="wrapper wrapper-content animated fadeInRight" ng-if="$root.schoolShow"><div class="row chartPanel" ng-controller="SchoolCtrl"><div class="row"><div class="col-md-2 selector pull-left"><ui-select ng-model="region.selected" on-select="onRegionSelect($item, $model)" theme="select2" class="form-control" title="Choose a Region"><ui-select-match placeholder="Select or search Region ...">{{$select.selected}}</ui-select-match><ui-select-choices repeat="item in regions | filter: $select.search"><div ng-bind-html="item | highlight: $select.search"></div><img width="19" src="http://lipis.github.io/flag-icon-css/flags/4x3/{{item| lowercase}}.svg"></ui-select-choices></ui-select></div><div class="col-md-3 selector pull-left" ng-show="school_show"><ui-select ng-model="school.selected" on-select="onSchoolSelect($item, $model)" theme="select2" class="form-control" title="Choose a School"><ui-select-match placeholder="Select or search a school name ...">{{$select.selected.school_name}}</ui-select-match><ui-select-choices repeat="school in schools | filter: $select.search"><div ng-bind-html="school.school_name | highlight: $select.search"></div><small ng-bind-html="school.school_key | highlight: $select.search"></small></ui-select-choices></ui-select></div><div class="col-md-2 compare-switch" ng-show="school_show"><span style="float:right">Compare mode</span><div class="switch"><div class="onoffswitch"><input type="checkbox" ng-model="isCompard" class="onoffswitch-checkbox" id="compared"> <label class="onoffswitch-label" for="compared"><span class="onoffswitch-inner"></span></label></div></div></div></div><div class="row"><div ng-include="\'components/school/count.html\'"></div><div ng-include="\'components/school/user_growth.html\'"></div></div></div><div class="row chartPanel"><div ng-include="\'components/school/user_rank.html\'"></div><div ng-include="\'components/school/contest.html\'"></div></div></div>'),t.put("components/school/user_growth.html",'<div class="col-lg-6"><highchart config="chartConfig" class="user-growth-chart"></highchart></div>'),t.put("components/school/user_rank.html",'<div class="col-lg-8" ng-controller="UserRankingCrol"><div class="ibox float-e-margins"><div class="ibox-title"><h5>School User Ranking(By ROI)</h5><div class="ibox-tools"><button type="button" class="btn btn-sm btn-primary">Export</button></div></div><div class="ibox-content"><div class="row"><div class="col-sm-3 m-b-xs"><select class="input-sm form-control input-s-sm inline product-option" ng-options="product.name for product in products" ng-model="selected" ng-change="changeProduct()"></select></div><div class="col-sm-3"></div></div><div class="table-responsive"><table class="table table-striped"><thead><tr><th></th><th>User Name</th><th class="hidden-xs">User Id</th><th class="hidden-xs">Register</th><th class="hidden-xs">Trade Count</th><th class="hidden-xs">Biggest Loss</th><th class="hidden-xs">Ranking</th><th>ROI %</th></tr></thead><tbody><tr ng-repeat="userInfo in userRankList"><td><img class="img-circle" src="{{userInfo.serving_url || \'http://www.hkfdt.cn/favicon.ico\'}}"></td><td><a href="#/index/profile/{{userInfo.user_id}}/{{$root.regionSelected}}/{{selected.name}}">{{userInfo.username | limitTo: 10}}</a></td><td class="hidden-xs">{{userInfo.user_id}}</td><td class="hidden-xs">{{userInfo.created|date}}</td><td class="hidden-xs">{{userInfo.tradescount|number}}</td><td class="neg-number">- {{userInfo.biggestloss|currency:"$"}}</td><td class="hidden-xs">{{userInfo.ranking}}</td><td>{{(userInfo.unit_price - 1 ) * 100|number:2}} %</td></tr></tbody></table><div class="text-center"><div ng-show="rankListLoading"><i class="fa fa-spinner fa-spin"></i></div><button type="button" class="btn btn-sm btn-info" ng-class="userRankList.length>0?\'\':\'disabled\'" ng-click="loaded=true;loadMore()" ng-hide="loaded">Load More</button></div></div></div></div></div>'),t.put("components/seed/user_list.html",'<div class="wrapper wrapper-content animated fadeInRight" ng-hide="$root.seedShow"><h3>No access for this account</h3></div><div class="wrapper wrapper-content animated fadeInRight" ng-if="$root.seedShow"><div class="row" ng-controller="SeedUserListCrol"><div class="col-lg-6"><div class="col-xs-8 text-left"><span>Daily Total P&L (including fee&commisions)</span><h1 class="font-bold">${{summaryObj.pnl | number:2}}</h1></div><div class="col-xs-4 text-left"><span>Daily Total QTY</span><h1 class="font-bold">{{summaryObj.qty | number}}</h1></div><div class="col-lg-12"><highchart config="chartPieConfig"></highchart></div></div><div class="col-lg-6"><div class="ibox float-e-margins"><div class="ibox-title"><h5>Daily Summary</h5><div class="ibox-tools"></div></div><div class="ibox-content"><div class="table-responsive"><table st-safe-src="summaryList" st-table="displayedSummary" class="table table-striped"><thead><tr><th>Trade Date</th><th>Symbol</th><th st-sort="ACCOUNT_VALUE" st-sort-default="reverse">QTY</th><th st-sort="PNL">P&L</th></tr></thead><tbody><tr ng-repeat="sum in displayedSummary"><td>{{sum["@TRADE_DATE"]}}</td><td>{{sum.SYMBOL}}</td><td>{{sum.QTY|number}}</td><td>{{sum.PNL|number:2}}</td></tr></tbody></table></div></div></div></div><div class="col-lg-12"><div class="ibox float-e-margins"><div class="ibox-title"><h5>Seed Daily Performance</h5><div class="ibox-tools" ng-if="$root.exportShow"><a type="button" class="btn btn-sm btn-primary" href="{{historyFilePath}}" download="{{historyFileName}}">Export</a></div></div><div class="ibox-content"><div class="table-responsive"><table st-safe-src="userList" st-table="displayed" class="table table-striped"><thead><tr><th colspan="5"><div class="input-group"><input st-search="USER_ID" class="form-control" placeholder="Search User ID ..." type="text"> <span class="input-group-btn"><button type="button" class="btn btn-sm btn-primary">Go!</button></span></div></th></tr><tr><th>Trade Date</th><th>User Id</th><th st-sort="ACCOUNT_VALUE" st-sort-default="reverse">Account Value</th><th st-sort="PNL">P&L</th><th st-sort="UR_PNL">UR_P&L</th><th st-sort="ALL_TIME_PNL">All Time P&L</th><th st-sort="SUMQTY">Total Qty</th><th st-sort="CNTQTY"># Filled</th><th st-sort="CASH">Cash</th><th st-sort="Ranking">Ranking</th><th st-sort="WinRatio">Win Ratio</th><th st-sort="BiggestWin">Biggest Win</th><th st-sort="BiggestLoss">Biggest Loss</th><th st-sort="AllTimeSharpRatio">All Time Sharp Ratio</th></tr></thead><tbody><tr ng-repeat="userInfo in displayed"><td>{{userInfo["@TRADE_DATE"]}}</td><td><a href="#/index/profile/{{userInfo.USER_ID}}/SEED/FX">{{userInfo.USER_ID}}</a></td><td>{{userInfo.ACCOUNT_VALUE|number:2}}</td><td>{{userInfo.PNL|number:2}}</td><td>{{userInfo.UR_PNL|number:2}}</td><td>{{userInfo.ALL_TIME_PNL|number:2}}</td><td>{{userInfo.SUMQTY}}</td><td>{{userInfo.CNTQTY}}</td><td>{{userInfo.CASH|number:2}}</td><td>{{userInfo.Ranking}}</td><td>{{userInfo.WinRatio}}%</td><td>{{userInfo.BiggestWin|number:2}}</td><td>{{userInfo.BiggestLoss|number:2}}</td><td>{{userInfo.AllTimeSharpRatio|number:2}}</td></tr></tbody><tfoot><tr><td colspan="5" class="text-center"><div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div></td></tr></tfoot></table></div></div></div></div></div></div>'),t.put("components/stock/predict.html",'<div class="wrapper wrapper-content animated fadeInRight" ng-hide="$root.userNick == \'sam\' || $root.userNick== \'bill\' || $root.userNick== \'DAP\' || $root.userNick== \'jack\'"><h3>預測模型正在改進中......</h3></div><div class="wrapper wrapper-content animated fadeInRight" ng-if="$root.userNick == \'sam\' || $root.userNick== \'bill\' || $root.userNick== \'DAP\' || $root.userNick== \'jack\'"><div class="row" ng-controller="PredictCrol"><div class="col-lg-12"><div class="ibox float-e-margins"><div class="ibox-title"><h5>预测股票振幅前50 (实际观察日：{{obsDate}})</h5><div class="ibox-tools">上证指数： <span ng-class="shIndexVar>0?\'stock-up\':\'stock-down\'">{{shIndex[3]}} <i class="fa" ng-class="shIndexVar>0?\'fa-level-up\':\'fa-level-down\'"></i> {{shIndexVar|number:2 }} %</span> 振幅： {{indexVol | number : 2}} %</div></div><div class="ibox-content col-lg-5"><div class="table-responsive"><table class="table table-striped"><thead><tr><th></th><th>平均振幅</th><th>平均振幅/大盘振幅</th></tr></thead><tbody><tr><td>前10名</td><td>{{volTop.top10Mean |number:2}} %</td><td>{{volTop.top10Mean/volTop.indexVol |number:2}} 倍</td></tr><tr><td>前20名</td><td>{{volTop.top20Mean |number:2}} %</td><td>{{volTop.top20Mean/volTop.indexVol |number:2}} 倍</td></tr><tr><td>前30名</td><td>{{volTop.top30Mean |number:2}} %</td><td>{{volTop.top30Mean/volTop.indexVol |number:2}} 倍</td></tr><tr><td>前40名</td><td>{{volTop.top40Mean |number:2}} %</td><td>{{volTop.top40Mean/volTop.indexVol |number:2}} 倍</td></tr></tbody></table></div></div><div class="ibox-content row"><div class="table-responsive col-lg-9" style="background-color: #F3F2EE;"><h3 style="margin-top:15px">最近一日表现</h3><table class="table table-striped"><thead><tr><th>预测振幅排名</th><th>股票代码</th><th>股票名字</th><th>现价</th><th>涨跌</th><th>涨跌幅</th><th>实际振幅</th><th>实际振幅/大盘振幅</th><th>成交量</th><th>换手率</th><th>相关新闻</th></tr></thead><tbody><tr ng-repeat="stock in obsList"><td>{{$index+1}}</td><td><a target="_blank" href="http://finance.ifeng.com/app/hq/stock/{{stock.stock_id.indexOf(\'6\')==0?\'sh\':\'sz\'}}{{stock.stock_id}}">{{stock.stock_id}}</a></td><td>{{stockName[stock.stock_id]}}</td><td>{{stockHistMap[stock.stock_id]["today"][3]|number:2}}</td><td ng-class="parsestockHistMap[stock.stock_id][\'today\'][6]>0?\'stock-up\':\'stock-down\'">{{stockHistMap[stock.stock_id]["today"][6]|number:2}}</td><td ng-class="stockHistMap[stock.stock_id][\'today\'][6]>0?\'stock-up\':\'stock-down\'">{{stockHistMap[stock.stock_id]["today"][7]|number:2}}%</td><td style="font-weight:bold; color: purple">{{(stockHistMap[stock.stock_id]["today"][2] - stockHistMap[stock.stock_id]["today"][4])/stockHistMap[stock.stock_id]["last"][3]* 100|number:2}}%</td><td>{{((stockHistMap[stock.stock_id]["today"][2] - stockHistMap[stock.stock_id]["today"][4])/stockHistMap[stock.stock_id]["last"][3]* 100 / indexVol)|number:2}} 倍</td><td>{{stockHistMap[stock.stock_id]["today"][5] |number:2}} 万手</td><td>{{stockHistMap[stock.stock_id]["today"][14]|number:3}} %</td><td><a target="_blank" href="http://news.baidu.com/ns?word={{stock.realtimeInfo.name}}&sr=0&cl=2&rn=20&tn=news&ct=0&clk=sortbytime">相关新闻</a></td></tr></tbody></table></div><div class="table-responsive col-lg-3" style="background-color: #FDE2E2;"><h3 style="margin-top:15px">预测下一交易日振幅</h3><p ng-show="predictList.length == 0">预测模型正在采集样本和计算中... ...</p><table class="table table-striped" ng-show="predictList.length > 0"><thead><tr><th>排名</th><th>股票代码</th><th>股票名字</th><th>預測振幅</th></tr></thead><tbody><tr ng-repeat="stock in predictList"><td>{{$index+1}}</td><td><a target="_blank" href="http://finance.ifeng.com/app/hq/stock/{{stock.stock_id.indexOf(\'6\')==0?\'sh\':\'sz\'}}{{stock.stock_id}}">{{stock.stock_id}}</a></td><td>{{stockName[stock.stock_id]}}</td><td>{{stock.testPred|number:2}} ％</td></tr></tbody></table></div></div></div></div></div></div>'),t.put("components/user/cmb_list.html",'<div class="col-lg-2" ng-repeat="user in userList"><div class="contact-box center-version"><a href="#/index/profile/{{user.userId}}/CN/FC/beta"><img alt="image" class="img-circle" src="{{usersMap[user.userId].serving_url ||\'http://www.hkfdt.cn/favicon.ico\'}}"><h3 class="m-b-xs"><strong>{{usersMap[user.userId].USERNAME}}</strong></h3><address class="m-t-md"><strong>{{usersMap[user.userId].school_name}}</strong><br><abbr title="Phone">Score:</abbr> {{user["scoresMap"]["feature"][featureSelected.key]["scores"].fdt}}</address></a></div></div>'),t.put("components/user/cmb_score.html",'<div class="row" ng-controller="CMBCtrl"><div class="wrapper wrapper-content animated fadeInRight"><img src="assets/images/cmb.png" style="width:180px;margin-bottom: 15px; margin-left: 15px;"><div class="row filterBar" ng-init="changeFt()"><div class="col-md-2"><select class="input-sm form-control input-s-sm inline product-option" ng-options="feature.name for feature in features" ng-model="featureSelected" ng-change="changeFt()"></select></div><div class="col-md-1"><input ng-model="limitList" value="10" ng-model-options="{debounce: 1000}" class="userScorelimit" ng-change="changeFt()"> Limit</div><div class="col-md-2"><input ng-model="tradeCount" value="0" class="countFilter" ng-model-options="{debounce: 1000}" ng-change="changeFt()"> Trade Count</div><div class="col-md-2"><input ng-model="loginCount" value="0" class="countFilter" ng-model-options="{debounce: 1000}" ng-change="changeFt()"> Login Count</div><div class="col-md-2"><input ng-model="unitPrice" value="0.95" class="countFilter" ng-model-options="{debounce: 1000}" ng-change="changeFt()"> Unit Price</div><div class="col-md-2"><input ng-model="mdd" value="-0.15" class="countFilter" ng-model-options="{debounce: 1000}" ng-change="changeFt()"> MDD</div></div><div ng-include="\'components/user/cmb_list.html\'"></div></div></div>'),t.put("components/user/core_user.html",'<div class="row" ng-controller="CoreUserCtrl"><div class="wrapper wrapper-content animated fadeInRight"><div class="row filterBar" ng-init="changeRegion()"><div class="col-md-2"><select class="input-sm form-control input-s-sm inline product-option" ng-options="app for app in appTypes" ng-model="appSelected" ng-change="changeSelect()"></select></div><div class="col-md-1"><select class="input-sm form-control input-s-sm inline product-option" ng-options="region for region in regions" ng-model="regionSelected" ng-change="changeRegion()"></select></div><div class="col-md-1"><select class="input-sm form-control input-s-sm inline product-option" ng-options="school.name for school in schools" ng-model="schoolSelected" ng-change="changeSelect()"></select></div><div class="col-md-1"><input ng-model="limitList" value="20" ng-model-options="{debounce: 1000}" class="userScorelimit" ng-change="changeSelect()"> Limit</div><div class="col-md-1"><a class="btn btn-white btn-bitbucket"><i class="fa fa-user-md"></i> {{totalUser}}</a></div><div class="col-md-2 btn-group pull-right"><button class="btn" ng-class="{\'btn-primary\': isActive(30), \'btn-white\': !isActive(30)}" type="button" ng-click="changeSelect(30)">30 Day</button> <button class="btn" ng-class="{\'btn-primary\': isActive(60), \'btn-white\': !isActive(60)}" type="button" ng-click="changeSelect(60)">60 Day</button> <button class="btn" ng-class="{\'btn-primary\': isActive(90), \'btn-white\': !isActive(90)}" type="button" ng-click="changeSelect(90)">90 Day</button></div></div><div ng-include="\'components/user/core_user_list.html\'"></div></div></div>'),t.put("components/user/core_user_list.html",'<div class="col-lg-2" ng-repeat="user in userList"><div class="contact-box center-version"><a href="#/index/profile/{{user.user_id}}/{{regionSelected}}/{{appSelected}}"><img alt="image" class="img-circle" src="{{usersMap[user.user_id].serving_url ||\'http://www.hkfdt.cn/favicon.ico\'}}"><h3 class="m-b-xs"><strong>{{usersMap[user.user_id].USERNAME}}</strong></h3><address class="m-t-md"><strong>{{usersMap[user.user_id].school_name|limitTo:10}}</strong><br><abbr title="Phone">Trade Life :</abbr> {{user.life}}</address></a></div></div>'),t.put("components/user/mt4_closed_list.html",'<div class="col-lg-12"><div class="ibox float-e-margins"><div class="ibox-title"><h5>Trade History</h5></div><div class="ibox-content"><div class="table-responsive"><table class="table table-striped" st-table="userClosedListDisplayed" st-safe-src="userClosedList"><thead><tr><th st-sort-default="reverse">Trade Date</th><th>Symbol</th><th>SIDE</th><th>Duration</th><th class="hidden-xs">QTY</th><th class="hidden-xs">Buy Price</th><th class="hidden-xs">Sell Price</th><th>P&L</th></tr></thead><tbody><tr ng-repeat="trade in userClosedListDisplayed"><td>{{trade.closeTime|date:\'yyyy-MM-dd\'}}</td><td>{{trade.item}}</td><td>{{trade.type}}</td><td><span>{{trade.closeTimeTs - trade.openTimeTs | amDurationFormat : \'minutes\'}}</span></td><td class="hidden-xs">{{trade.size}}</td><td class="hidden-xs">{{trade.openPrice}}</td><td class="neg-number">{{trade.closePrice}}</td><td>{{trade.profit|number:2}}</td></tr></tbody><tfoot><tr><td colspan="5" class="text-center"><div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div></td></tr></tfoot></table></div></div></div></div>'),t.put("components/user/mt4_profile.html",'<div class="wrapper wrapper-content animated fadeInRight" ng-controller="MT4ProfileCtrl"><a target="_blank" href="http://oxfordnie.org/"><img alt="image" style="width:120px; float:right" src="assets/images/oxford_nie.png"></a><div class="row m-b-lg m-t-lg"><div class="col-md-4"><div class="profile-image"><img src="{{user.serving_url || \'http://cdn4.aptoide.com/imgs/3/7/0/37056af9e7e51c1b28de1d2f920568a4.png\'}}" class="img-circle circle-border m-b-md" alt="profile"></div><div class="profile-info"><div class=""><div><h2 class="no-margins">{{acc.name}}</h2><h4>{{user.school_name}}</h4><small><span ng-if="$root.exportShow">Contact: {{user.EMAIL }} {{user.PHONE}}</span><br>Join at: {{user.CREATED | date:\'yyyy-MM-dd\'}}<br>Last Active: {{userLastLogin.LOGINAT | date:\'yyyy-MM-dd @ h:mma\'}}<br>Country: <img width="15" ng-show="user.COUNTRY" src="http://lipis.github.io/flag-icon-css/flags/4x3/{{user.COUNTRY| lowercase}}.svg"><br></small></div></div></div><div class="row" style="margin-top: 20px;" ng-show="dateRangeChanged"><div class="pull-left" style="font-size: 10px;color: #aaa;margin-left: 25px;">Account on : {{dateRange.endDate | date:\'yyyy-MM-dd\'}}</div></div><table class="table small m-b-xs accounts-table"><tbody><tr><td><strong>{{acc.account}}</strong><div>Account No</div></td><td><strong>{{(performance.UNIT_PRICE - 1 ) * 100|number:2}}%</strong><div>ROI</div></td></tr><tr><td><strong>{{performance.ALL_TIME_PNL|number:2}}</strong><div>All Time P&L</div></td><td><strong>{{performance.CASH_DEPOSITED|number:2}}</strong><div>Cash Deposite</div></td></tr><tr><td><strong>{{acc.currency}}</strong><div>Currency</div></td><td><strong>{{acc.leverage}}</strong><div>Leverage</div></td></tr><tr><td><strong>{{acc.time}}</strong><div>Update Time</div></td><td><strong>{{acc.title}}</strong><div>Title</div></td></tr><tr><td><strong>{{performance.BiggestWin}}</strong><div>Biggest Win</div></td><td><strong>{{performance.BiggestLoss}}</strong><div>Biggest Loss</div></td></tr><tr><td><strong>{{performance.WinRatio}}%</strong><div>Win Ratio</div></td><td><strong>{{performance.TradesCount}}</strong><div>Trade Counts</div></td></tr></tbody></table><div class="col-md-12"><highchart config="chartPieConfig"></highchart></div></div><div class="col-md-8"><div class="row"><div class="col-md-6"><highchart config="chartRadarFDTScoreConfig"></highchart></div><div class="col-md-6"><highchart config="chartRadarRiskPreferenceConfig"></highchart></div><div class="col-md-6"><highchart config="chartRadarProfitConfig"></highchart></div><div class="col-md-6"><div class="col-md-6 col-md-offset-3"><h4>Risk Control Score</h4></div><div class="col-md-3"></div><br><highchart config="chartRadarConfig"></highchart></div></div><div class="row"><highchart config="chartConfig" class="user-trade-chart"></highchart></div><div class="row"><div ng-include="\'components/user/mt4_closed_list.html\'"></div></div></div></div></div>'),t.put("components/user/mt4_user.html",'<div class="row" ng-controller="MT4UserCtrl"><div class="wrapper wrapper-content animated fadeInRight ecommerce"><div class="row"><div class="col-lg-12"><div class="ibox"><div class="ibox-content"><div class="table-responsive"><table class="table table-striped" st-table="userDisplayed" st-safe-src="userList"><thead><tr><th>Title</th><th>Account Name</th><th>Account No</th><th>ROI</th><th>Currency</th><th>Leverage</th><th>File Export Time</th><th>Upload Date</th><th>Upload User</th><th>MT4 File</th></tr></thead><tbody><tr ng-repeat="user in userDisplayed"><td>{{user.title}}</td><td><a href="#/index/mt4/{{user.account}}">{{user.name}}</a></td><td>{{user.account}}</td><td>{{(user.UNIT_PRICE ? (user.UNIT_PRICE - 1 ) * 100 : 0)|number:2}}%</td><td>{{user.currency}}</td><td>{{user.leverage}}</td><td>{{user.time}}</td><td>{{user.cTime|date:\'yyyy-MM-dd\'}}</td><td>{{user.uploadUser}}</td><td><a ng-if="user.filename" href="downloadMT4File?filename={{user.filename}}" class="btn btn-primary" style="padding: 2px 6px;"><i class="fa fa-download"></i></a></td></tr></tbody><tfoot><tr><td colspan="5" class="text-center"><div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div></td></tr></tfoot></table></div></div></div></div></div></div></div>'),t.put("components/user/user_closed_list.html",'<div class="col-lg-12"><div class="ibox float-e-margins"><div class="ibox-title"><h5>Trade History</h5><div class="ibox-tools" ng-if="$root.exportShow"><button type="button" class="btn btn-outline btn-primary" ng-if="selectTradeDates" ng-click="tradeDateCancelClick()">{{selectTradeDates}} <i class="fa fa-times"></i></button> <a type="button" class="btn btn-sm btn-primary" href="{{historyFilePath}}" download="{{historyFileName}}">Export</a></div></div><div class="ibox-content"><div class="table-responsive"><table class="table table-striped" st-table="userClosedListDisplayed" st-safe-src="userClosedList"><thead><tr><th>Trade Date</th><th>Symbol</th><th>SIDE</th><th>Duration</th><th class="hidden-xs">QTY</th><th class="hidden-xs">Buy Price</th><th class="hidden-xs">Sell Price</th><th>P&L</th></tr></thead><tbody><tr ng-repeat="trade in userClosedListDisplayed"><td>{{trade.TRADE_DATE|date:\'yyyy-MM-dd\'}}</td><td>{{trade.SYMBOL}}</td><td>{{sideMap[trade.ObjId]["side"]}}</td><td><span ng-if="sideMap[trade.ObjId]">{{(trade.CREATED - sideMap[trade.ObjId]["ts"]) | amDurationFormat : \'minutes\'}}</span></td><td class="hidden-xs">{{trade.QTY|number}}</td><td class="hidden-xs">{{trade.BUY_PRICE}}</td><td class="neg-number">{{trade.SELL_PRICE}}</td><td>{{trade.AC_PNL|number:2}}</td></tr></tbody><tfoot><tr><td colspan="5" class="text-center"><div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="7"></div></td></tr></tfoot></table></div></div></div></div>'),t.put("components/user/user_profile.html",'<div class="wrapper wrapper-content animated fadeInRight" ng-hide="$root.simShow || $root.ftShow"><h3>No access for this account</h3></div><div class="wrapper wrapper-content animated fadeInRight" ng-controller="UserProfileCtrl" ng-if="$root.simShow || $root.ftShow"><div class="row"><div class="col-md-3" ng-hide="hasUserId"><div class="input-group"><input type="text" class="form-control" ng-model="inputUserId" placeholder="Please enter fdt user id or user name"> <span class="input-group-btn"><button type="button" class="btn btn-primary" ng-click="loadData()">Go!</button></span></div></div><div class="col-md-1" ng-hide="hasUserId"><select class="input-sm form-control input-s-sm inline product-option" ng-options="product.name for product in products" ng-model="productSelected"></select></div><div class="col-md-1" ng-hide="hasUserId"><select class="input-sm form-control input-s-sm inline product-option" ng-options="region.name for region in regions" ng-model="regionSelected"></select></div><div class="col-md-2 form-group pull-right" id="data_1"><div class="input-group date"><span class="input-group-addon"><i class="fa fa-calendar"></i></span> <input singledatepicker="true" type="daterange" class="form-control date-selector" ng-change="loadData(); dateRangeChanged=true" ng-model="dateRange"></div></div></div><a target="_blank" href="http://oxfordnie.org/"><img alt="image" style="width:120px; float:right" src="assets/images/oxford_nie.png"></a><div class="row m-b-lg m-t-lg"><div class="col-md-4"><div class="profile-image" style="text-align: center"><img src="{{user.serving_url || \'http://www.hkfdt.cn/favicon.ico\'}}" class="img-circle circle-border m-b-md" alt="profile"> <a ng-click="loadData(true)" type="button" class="btn btn-primary dim" style="margin-top: -25px;width: 60px;height: 25px;padding: 5px;font-size: 10px;"><i ng-class="refresh?\'fa-spin\':\'\'" class="fa fa-refresh"></i></a></div><div class="profile-info"><div class=""><div><h2 class="no-margins">{{user.USERNAME}} <a style="margin-left: 20px;padding: 2px;font-size: 10px;" ng-hide="accFirstDate-joinDate < 1000*60*60*24*2" class="btn btn-default" href="#">Reset @{{accFirstDate| date:\'yyyy-MM-dd\'}}</a></h2><h4>{{user.school_name}}</h4><small><span ng-if="$root.exportShow">Contact: {{user.EMAIL }} {{user.PHONE}}</span><br>Join at: {{user.CREATED | date:\'yyyy-MM-dd\'}}<br>Last Active: {{userLastLogin.LOGINAT | date:\'yyyy-MM-dd @ h:mma\'}}<br>Country: <img width="15" ng-show="user.COUNTRY" src="http://lipis.github.io/flag-icon-css/flags/4x3/{{user.COUNTRY| lowercase}}.svg"><br></small></div></div></div><div class="row" style="margin-top: 20px;" ng-show="dateRangeChanged"><div class="pull-left" style="font-size: 10px;color: #aaa;margin-left: 25px;">Account on : {{dateRange.endDate | date:\'yyyy-MM-dd\'}}</div></div><table class="table small m-b-xs accounts-table" ng-hide="seedsc"><tbody><tr><td><strong>{{acc.CASH + acc.UR_PNL | currency:"$"}}</strong><div>Account Value</div></td><td><strong>{{acc.CASH | currency:"$"}}</strong><div>Cash Value</div></td></tr><tr><td><strong ng-show="acc.UNIT_PRICE">{{(acc.UNIT_PRICE - 1 ) * 100|number:2}}%</strong><div>ROI</div></td><td><strong>{{acc.TradesCount}}</strong><div>Total Trades</div></td></tr><tr><td><strong>{{acc.Ranking}}</strong><div>Ranking</div></td><td><strong>{{acc.RankingPer}}%</strong><div>Ranking Percentage</div></td></tr><tr><td><strong>{{acc.BiggestWin}}</strong><div>Biggest Win</div></td><td><strong>{{acc.BiggestLoss}}</strong><div>Biggest Loss</div></td></tr><tr><td><strong>{{acc.WinRatio}}%</strong><div>Win Ratio</div></td><td><strong>{{acc.CASH_AVAILABLE | currency:"$"}}</strong><div>Available Cash</div></td></tr><tr ng-show="userSetting"><td><strong>{{userSetting.DEFAULT_QTY}}</strong><div>Quick Trade QTY</div></td><td><strong>{{userSetting.STOP_LOSS_VALUE | currency:"$"}}</strong><div>Position Stop Loss</div></td></tr><tr ng-show="userSetting"><td><strong>{{userSetting.DAILY_STOPLOSS | currency:"$"}}</strong><div>Daily Stop Loss</div></td><td><strong>{{userSetting.TRAILING_STOP }}</strong><div>Trailing Stop</div></td></tr></tbody></table><highchart config="chartLoginConfig" class="user-roi-chart" ng-hide="seedsc"></highchart><highchart config="chartPNLConfig" class="user-roi-chart"></highchart><highchart style="margin-top: 40px;" config="chartCommisionConfig" class="user-roi-chart" ng-show="seedsc"></highchart><highchart config="chartRollPriceConfig" class="user-roi-chart" ng-hide="seedsc"></highchart><highchart config="chartTradeCountConfig" class="user-roi-chart" ng-hide="seedsc"></highchart><highchart config="chartValueConfig" class="user-roi-chart" ng-hide="seedsc"></highchart><highchart config="chartRankingConfig" class="user-roi-chart" ng-hide="seedsc"></highchart><div class="table-responsive" ng-show="seedsc" style="margin-top: 50px;"><h3 style="text-align:center; margin-bottom: 20px;">Top Traded Symbols (by Acounmt)</h3><table class="table table-striped"><thead><tr><th class="hidden-xs">Symbol</th><th class="hidden-xs">Total Amount</th></tr></thead><tbody><tr ng-repeat="sy in stats_pos"><td>{{sy.symbol}}</td><td>{{sy.total_volumn |number: 2}}</td></tr></tbody></table></div><div class="table-responsive" ng-show="seedsc"><h3 style="text-align:center; margin-bottom: 20px;">Top Traded Symbols (by pnl/position)</h3><table class="table table-striped"><thead><tr><th class="hidden-xs">Symbol</th><th class="hidden-xs">Efficiency</th></tr></thead><tbody><tr ng-repeat="sy in stats_pnl"><td ng-class="sy.total_eff<0?\'table-danger\' : \'\'">{{sy.symbol}}</td><td ng-class="sy.total_eff<0?\'table-danger\' : \'\'">{{sy.total_eff | number : 6}}</td></tr></tbody></table></div></div><div class="col-md-8"><div class="row"><div ng-class="beta?\'col-md-6\' :\'col-md-12\'"><highchart config="chartRadarFDTScoreConfig" ng-hide="seedsc"></highchart><highchart config="chartSeedSCScoreConfig" ng-show="seedsc"></highchart></div><div class="col-md-6" ng-if="beta"><highchart config="chartRadarActivityConfig" ng-hide="seedsc"></highchart><highchart config="chartSeedStyleScoreConfig" ng-show="seedsc"></highchart></div><div class="col-md-6" ng-show="beta&&!seedsc"><highchart config="chartRadarProfitConfig"></highchart></div><div class="col-md-6" ng-show="beta&&!seedsc"><br><highchart config="chartRadarConfig"></highchart></div></div><div class="row"><highchart config="chartConfig" class="user-trade-chart"></highchart></div><div class="row"><highchart config="chartTradesConfig" class="user-trade-chart"></highchart></div><div class="row"><div ng-include="\'components/user/user_closed_list.html\'"></div></div><div class="col-md-6"><highchart config="chartPieConfig"></highchart></div><div class="col-md-6" ng-hide="region==\'SEED\' || region==\'INC\' || region==\'SEEDSC\'"><div class="table-responsive"><table class="table table-striped"><thead><tr><th class="hidden-xs">Joined Contests</th><th class="hidden-xs">ROI</th><th class="hidden-xs">FDT Score</th></tr></thead><tbody><tr ng-repeat="contest in contestScoresList"><td><a href="#/index/profile/{{contest.contestId}}_1_*1_*1_{{user.USERID}}/{{db}}/{{app}}/beta">{{contests[contest.contestId].name}}</a></td><td>{{(contest.ft_up.raw -1) *100|number :2}}%</td><td>{{contest.fdt.score|number :3}}</td></tr></tbody></table></div></div></div></div></div>'),t.put("components/user/user_score.html",'<div class="row" ng-controller="UserScoreCtrl"><div class="wrapper wrapper-content animated fadeInRight"><div class="row filterBar" ng-init="initProd()"><div class="col-md-3"><ui-select style="width:100%" ng-model="contestSelected" on-select="changeFt($item)" theme="select2" title="Choose a Region"><ui-select-match placeholder="Select or search Region ...">{{$select.selected.name}}</ui-select-match><ui-select-choices repeat="contest in contests | filter: $select.search"><div><img width="50" ng-if="contest.icon_image" src="{{contest.icon_image}}"> <span ng-bind-html="contest.name | highlight: $select.search"></span></div></ui-select-choices></ui-select></div><div class="col-md-2"><select class="input-sm form-control input-s-sm inline product-option" ng-options="wt for wt in weightFiles" ng-model="weightSelected" ng-change="changeFt()"></select></div><div class="col-md-1"><input ng-model="limitList" value="10" ng-model-options="{debounce: 1000}" class="userScorelimit" ng-change="changeFt()"> Limit</div><div class="col-md-2"><input style="margin-top:15px" type="checkbox" ng-model="incubatee" ng-change="changeFt()"> {{contestSelected.region == "SEEDSC"? "Live Trader" : "Incu Candidate"}}</div><div class="col-md-3" style="margin-top: 10px;"><a href="{{downLoadUrl}}" type="button" class="btn btn-success dim ng-click-active" style="width: 40px;height: 25px;padding: 1px 0 5px 0;font-size: 15px; margin-right: 5px;"><i class="fa fa-cloud-download"></i></a> <a ng-hide=\'contestSelected.region == "SEEDSC"\' ng-click="distShow=!distShow;changeFt()" type="button" class="btn btn-primary dim ng-click-active" style="width: 40px;height: 25px;padding: 1px 0 5px 0;font-size: 15px; margin-right: 5px;"><i ng-class="distShow?\'fa-th-list\':\'fa-bar-chart\'" class="fa"></i></a> <span style="font-size: 10px;color: #aaa;">Score update @ {{userList[0].ts| date:"yyyy-MM-dd h:mma" : \'UTC\' }}</span></div></div><div class="row"><div class="col-lg-9" ng-include="\'components/user/user_score_list.html\'" style="margin-top: -15px;" ng-hide="distShow"></div><div class="col-lg-9" style="margin-top: -15px;" ng-show="distShow"><div class="col-lg-6" ng-repeat="chart in fts"><highchart config="chart.chartObj" class="user-roi-chart"></highchart></div></div><div class="col-lg-3" ng-hide="distShow"><highchart config="chartScoreDistConfig" class="user-roi-chart"></highchart><highchart config="chartProfDistConfig" class="user-roi-chart" ng-hide="contestSelected.region == \'SEEDSC\'"></highchart><highchart config="chartRiskDistConfig" class="user-roi-chart" ng-hide="contestSelected.region == \'SEEDSC\'"></highchart><highchart config="chartConsiDistConfig" class="user-roi-chart" ng-hide="contestSelected.region == \'SEEDSC\'"></highchart><highchart config="chartActDistConfig" class="user-roi-chart" ng-hide="contestSelected.region == \'SEEDSC\'"></highchart></div></div></div></div>'),t.put("components/user/user_score_list.html",'<div class="col-lg-3" ng-repeat="user in userList" style="height: 300px; margin-top: 40px;"><div class="contact-box center-version"><a target="_blank" href="#/index/profile/{{contestSelected.contestID? contestSelected.contestID + \'_1_*1_*1_\' + user.user_id : user.user_id}}/{{contestSelected.region}}/{{user.prod| uppercase}}/beta"><img alt="image" class="img-circle" src="{{usersMap[user.user_id].serving_url ||\'http://www.hkfdt.cn/favicon.ico\'}}"><h3 class="m-b-xs"><strong>{{usersMap[user.user_id].USERNAME}}</strong></h3><div class="row"><strong>{{usersMap[user.user_id].school_name}}</strong><br><img ng-show="usersMap[user.user_id].COUNTRY" src="http://lipis.github.io/flag-icon-css/flags/4x3/{{usersMap[user.user_id].COUNTRY| lowercase}}.svg" style="width: 25px;height: 20px;padding: 0px;margin: 5px 0 0 0;"><h2>{{user[featureSelected].score |number:2 }}</h2><p style="font-size: 9px;color: #aaa;">Trade Days : {{ user.ft_tdd.raw}}</p><div class="col-lg-4" style="border-right: 1px solid #eee;">{{ (user.ft_up.raw - 1) * 100 |number :2}} %<br><span class="visible-lg-block" style="font-size: 8px; color: #aaa;">ROI</span></div><div class="col-lg-4" style="border-right: 1px solid #eee;">{{user.ft_shp_rt.raw |number :2}}<br><span class="visible-lg-block" style="font-size: 8px; color: #aaa;">Sharp Ratio</span></div><div class="col-lg-4" title="Max Drop Down">{{ (user.ft_mdd.raw) * (-100) |number :2 }} %<br><span class="visible-lg-block" style="font-size: 8px; color: #aaa;">MDD</span></div></div><span ng-show="user.arena_tg==\'former_incubatee\'" class="former-incu">Former</span> <span class="ranking-number">{{$index+1}}</span></a></div></div>')
}]);